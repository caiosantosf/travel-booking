(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[19],{528:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(6),s=a(55),c=a.n(s),i=a(63),o=a(38),l=a(1),b=a.n(l),d=a(5),u=a(39),p=a(40),j=a(56),m=a(64);t.default=function(e){var t=Object(l.useState)(!1),a=Object(o.a)(t,2),s=a[0],h=a[1],O=Object(l.useState)(!1),x=Object(o.a)(O,2),v=x[0],f=x[1],y=Object(l.useState)({}),k=Object(o.a)(y,2),g=k[0],N=k[1],w=Object(l.useState)({}),S=Object(o.a)(w,2),C=S[0],E=S[1],F=Object(l.useState)(""),I=Object(o.a)(F,2),J=I[0],D=I[1],L=Object(d.f)(),V=e.match.params.id,q={headers:{"x-access-token":localStorage.getItem("token")}};Object(l.useEffect)((function(){"novo"!==V&&function(){var e=Object(i.a)(c.a.mark((function e(){var t,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/reservation/".concat(V),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,N(t.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=Object(m.a)(e.t0)).forbidden?L.push("/"):a.general&&D(a.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[V,L]);var z=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),E({});try{L.push("/onibus")}catch(C){h(!1),(t=Object(m.a)(C)).general?D(t.error):E(t.error)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(i.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,j.a.delete("/buses/".concat(V),q);case 4:L.push("/onibus"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(t=Object(m.a)(e.t0)).general?D(t.error):E(t.error);case 11:h(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(b.a.Fragment,{children:[Object(n.jsx)(u.a,{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(p.a,{}),Object(n.jsx)("h5",{children:"Cadastro de \xf4nibus"}),Object(n.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:J?{display:"block"}:{display:"none"},children:J}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("label",{htmlFor:"description",className:"form-label",children:"Descri\xe7\xe3o"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(C.description?"is-invalid":""),id:"description",maxLength:"255",value:g.description||"",onChange:function(e){N(Object(r.a)(Object(r.a)({},g),{},{description:e.target.value}))}}),Object(n.jsx)("div",{id:"validationName",className:"invalid-feedback",style:C.description?{display:"inline"}:{display:"none"},children:C.description})]})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:z,disabled:s,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:s?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==V?{display:"inline-block"}:{display:"none"},onClick:A,disabled:v,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:v?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white mb-4",onClick:function(){L.push("/onibus")},children:"Voltar"})]})]})})]})}}}]);
//# sourceMappingURL=19.fd40bccc.chunk.js.map