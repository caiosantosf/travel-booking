(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[26],{446:function(e,r,a){"use strict";a.r(r);var t=a(89),s=a.n(t),n=a(3),o=a(90),c=a(51),i=a(1),d=a(6),l=a(85),p=a(86),b=a(2);r.default=function(e){var r=Object(i.useState)({}),a=Object(c.a)(r,2),t=a[0],u=a[1],m=Object(i.useState)({}),j=Object(c.a)(m,2),h=j[0],f=j[1],O=Object(i.useState)(!1),g=Object(c.a)(O,2),w=g[0],v=g[1],x=Object(d.f)(),y=function(){var r=Object(o.a)(s.a.mark((function r(){var a,o,c,i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,t.password!==t.passwordConfirmation){r.next=12;break}return v(!0),a=e.match.params.id,o=e.location.search.replace("?token=",""),r.next=7,l.a.patch("/users/login/resetpassword/".concat(a),{password:t.password,reset:!0},{headers:{"x-access-token":o}});case 7:c=r.sent,f(Object(n.a)(Object(n.a)({},c.data),{},{error:!1})),v(!1),r.next=13;break;case 12:f({message:"A Senha n\xe3o bate com a confirma\xe7\xe3o",error:!0});case 13:u({}),r.next=21;break;case 16:r.prev=16,r.t0=r.catch(0),(i=Object(p.a)(r.t0)).forbidden?x.push("/"):f(Object(n.a)(Object(n.a)({},i.error),{},{error:!0})),v(!1);case 21:case"end":return r.stop()}}),r,null,[[0,16]])})));return function(){return r.apply(this,arguments)}}();return Object(b.jsxs)("div",{className:"container container-login",children:[Object(b.jsx)("div",{className:"alert text-center ".concat(h.error?"alert-danger":"alert-warning"),role:"alert",style:h.message?{display:"block"}:{display:"none"},children:h.message||h.password}),Object(b.jsx)("div",{className:"text-center mb-3",children:Object(b.jsx)("h5",{children:"Cadastre sua nova senha"})}),Object(b.jsxs)("form",{children:[Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("label",{htmlFor:"password",className:"form-label",children:"Senha"}),Object(b.jsx)("input",{type:"password",className:"form-control",id:"password",maxLength:"8",value:t.password||"",onChange:function(e){var r=e.target.value;u(Object(n.a)(Object(n.a)({},t),{},{password:r}))}})]}),Object(b.jsxs)("div",{className:"mb-2",children:[Object(b.jsx)("label",{htmlFor:"passwordConfirmation",className:"form-label",children:"Confirme a Senha"}),Object(b.jsx)("input",{type:"password",className:"form-control",id:"passwordConfirmation",maxLength:"8",value:t.passwordConfirmation||"",onChange:function(e){var r=e.target.value;u(Object(n.a)(Object(n.a)({},t),{},{passwordConfirmation:r}))}})]}),Object(b.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(b.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:y,disabled:w,children:[Object(b.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:w?{display:"inline-block"}:{display:"none"}}),"Enviar"]}),Object(b.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){x.push("/")},children:"Voltar"})]})]})]})}},85:function(e,r,a){"use strict";a.d(r,"a",(function(){return o})),a.d(r,"b",(function(){return c})),a.d(r,"c",(function(){return n}));var t=a(91),s=a.n(t),n="https://api.ldviagens.com/",o=s.a.create({baseURL:n}),c=function(e){return s.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))}},86:function(e,r,a){"use strict";a.d(r,"a",(function(){return t}));var t=function(e){if(e.hasOwnProperty("response")&&e.response){var r=!1;return r=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:r}:{general:!1,error:e.response.data,forbidden:r}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:r}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}}}}]);
//# sourceMappingURL=26.db06d7d4.chunk.js.map