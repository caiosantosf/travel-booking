(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[26],{518:function(e,r,a){"use strict";a.r(r);var t=a(2),s=a(85),n=a.n(s),o=a(5),c=a(86),i=a(90),d=a(1),l=a(4),p=a(81),b=a(82);r.default=function(e){var r=Object(d.useState)({}),a=Object(i.a)(r,2),s=a[0],u=a[1],m=Object(d.useState)({}),j=Object(i.a)(m,2),h=j[0],f=j[1],O=Object(d.useState)(!1),g=Object(i.a)(O,2),w=g[0],v=g[1],x=Object(l.f)(),y=function(){var r=Object(c.a)(n.a.mark((function r(){var a,t,c,i;return n.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,s.password!==s.passwordConfirmation){r.next=12;break}return v(!0),a=e.match.params.id,t=e.location.search.replace("?token=",""),r.next=7,p.a.patch("/users/login/resetpassword/".concat(a),{password:s.password,reset:!0},{headers:{"x-access-token":t}});case 7:c=r.sent,f(Object(o.a)(Object(o.a)({},c.data),{},{error:!1})),v(!1),r.next=13;break;case 12:f({message:"A Senha n\xe3o bate com a confirma\xe7\xe3o",error:!0});case 13:u({}),r.next=21;break;case 16:r.prev=16,r.t0=r.catch(0),(i=Object(b.a)(r.t0)).forbidden?x.push("/"):f(Object(o.a)(Object(o.a)({},i.error),{},{error:!0})),v(!1);case 21:case"end":return r.stop()}}),r,null,[[0,16]])})));return function(){return r.apply(this,arguments)}}();return Object(t.jsxs)("div",{className:"container container-login",children:[Object(t.jsx)("div",{className:"alert text-center ".concat(h.error?"alert-danger":"alert-warning"),role:"alert",style:h.message?{display:"block"}:{display:"none"},children:h.message||h.password}),Object(t.jsx)("div",{className:"text-center mb-3",children:Object(t.jsx)("h5",{children:"Cadastre sua nova senha"})}),Object(t.jsxs)("form",{children:[Object(t.jsxs)("div",{className:"mb-2",children:[Object(t.jsx)("label",{htmlFor:"password",className:"form-label",children:"Senha"}),Object(t.jsx)("input",{type:"password",className:"form-control",id:"password",maxLength:"8",value:s.password||"",onChange:function(e){var r=e.target.value;u(Object(o.a)(Object(o.a)({},s),{},{password:r}))}})]}),Object(t.jsxs)("div",{className:"mb-2",children:[Object(t.jsx)("label",{htmlFor:"passwordConfirmation",className:"form-label",children:"Confirme a Senha"}),Object(t.jsx)("input",{type:"password",className:"form-control",id:"passwordConfirmation",maxLength:"8",value:s.passwordConfirmation||"",onChange:function(e){var r=e.target.value;u(Object(o.a)(Object(o.a)({},s),{},{passwordConfirmation:r}))}})]}),Object(t.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(t.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:y,disabled:w,children:[Object(t.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:w?{display:"inline-block"}:{display:"none"}}),"Enviar"]}),Object(t.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){x.push("/")},children:"Voltar"})]})]})]})}},81:function(e,r,a){"use strict";a.d(r,"a",(function(){return o})),a.d(r,"b",(function(){return c})),a.d(r,"c",(function(){return n}));var t=a(87),s=a.n(t),n="https://api.ldviagens.com/",o=s.a.create({baseURL:n}),c=function(e){return s.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))}},82:function(e,r,a){"use strict";a.d(r,"a",(function(){return t}));var t=function(e){if(e.hasOwnProperty("response")&&e.response){var r=!1;return r=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:r}:{general:!1,error:e.response.data,forbidden:r}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:r}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}}}}]);
//# sourceMappingURL=26.644b8a17.chunk.js.map