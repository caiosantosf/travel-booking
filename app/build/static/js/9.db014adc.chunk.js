(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[9],{315:function(e,t){},317:function(e,t){},364:function(e,t){},365:function(e,t){},536:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(55),l=a.n(r),n=a(63),s=a(38),i=a(1),o=a.n(i),b=a(5),d=a(39),j=a(40),u=a(197),h=a(527),p=a(153),O=a(154),x=a(155),m=a(156),f=a(56),y=a(238),g=a(57),v=y.d.create({table:{display:"table",width:"auto",borderStyle:"solid",borderWidth:1,borderRightWidth:0,borderBottomWidth:0,margin:10},tableRow:{margin:"auto",flexDirection:"row"},tableColSmall:{width:"7%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColMedium:{width:"19%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColBig:{width:"30%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCell:{margin:"auto",marginTop:5,fontSize:10},title:{margin:10}});var C=function(e){var t=e.passengers,a=e.travel,r=e.departurePlaces;return Object(c.jsx)(y.a,{children:Object(c.jsxs)(y.c,{size:"A4",style:v.page,children:[Object(c.jsx)(y.e,{style:v.title,children:"".concat(a.destination," - ").concat(Object(g.c)(r[0].departureDate))}),Object(c.jsxs)(y.f,{style:v.table,children:[Object(c.jsxs)(y.f,{style:v.tableRow,children:[Object(c.jsx)(y.f,{style:v.tableColSmall,children:Object(c.jsx)(y.e,{style:v.tableCell,children:"P. Ida"})}),Object(c.jsx)(y.f,{style:v.tableColSmall,children:Object(c.jsx)(y.e,{style:v.tableCell,children:"P. Volta"})}),Object(c.jsx)(y.f,{style:v.tableColMedium,children:Object(c.jsx)(y.e,{style:v.tableCell,children:"Pagamento"})}),Object(c.jsx)(y.f,{style:v.tableColBig,children:Object(c.jsx)(y.e,{style:v.tableCell,children:"Ponto"})}),Object(c.jsx)(y.f,{style:v.tableColBig,children:Object(c.jsx)(y.e,{style:v.tableCell,children:"Nome"})}),Object(c.jsx)(y.f,{style:v.tableColSmall,children:Object(c.jsx)(y.e,{style:v.tableCell,children:"Colo"})})]}),t.map((function(e){var t=e.id,a=e.person,l=e.departureSeat,n=e.returnSeat,s=e.lapChild,i=e.status,o=e.departurePlace_id,b=a.name;return l||n||s?Object(c.jsxs)(y.f,{style:v.tableRow,children:[Object(c.jsx)(y.f,{style:v.tableColSmall,children:Object(c.jsx)(y.e,{style:v.tableCell,children:l})}),Object(c.jsx)(y.f,{style:v.tableColSmall,children:Object(c.jsx)(y.e,{style:v.tableCell,children:n})}),Object(c.jsx)(y.f,{style:v.tableColMedium,children:Object(c.jsx)(y.e,{style:v.tableCell,children:Object(g.e)(i).translated})}),Object(c.jsx)(y.f,{style:v.tableColBig,children:Object(c.jsx)(y.e,{style:v.tableCell,children:r.filter((function(e){return e.id===o}))[0].homeAddress})}),Object(c.jsx)(y.f,{style:v.tableColBig,children:Object(c.jsx)(y.e,{style:v.tableCell,children:b})}),Object(c.jsx)(y.f,{style:v.tableColSmall,children:Object(c.jsx)(y.e,{style:v.tableCell,children:s?"Sim":"N\xe3o"})})]},t):null}))]})]})})},S=a(64);t.default=function(e){var t=Object(i.useState)([]),a=Object(s.a)(t,2),r=a[0],g=a[1],v=Object(i.useState)(1),k=Object(s.a)(v,2),w=k[0],N=k[1],P=Object(i.useState)(0),W=Object(s.a)(P,2),_=W[0],B=W[1],I=Object(i.useState)(""),R=Object(s.a)(I,2),T=R[0],D=R[1],L=Object(i.useState)({}),E=Object(s.a)(L,2),F=E[0],M=E[1],V=Object(i.useState)([{}]),z=Object(s.a)(V,2),A=z[0],J=z[1],q=Object(i.useState)({}),G=Object(s.a)(q,2),H=G[0],K=G[1],Q=e.match.params.travel_id,U=e.location.state,X=U.travel,Y=U.departurePlaces,Z=Object(b.f)();Object(i.useEffect)((function(){M(X),J(Y)}),[X,Y]),Object(i.useEffect)((function(){(function(){var e=Object(n.a)(l.a.mark((function e(){var t,a,c,r,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.get("/reservations",{headers:{travel_id:Q,active:!0,currentPage:w,"x-access-token":localStorage.getItem("token"),list:"passengers"}});case 3:200===(t=e.sent).status?(B(t.data.pagination.lastPage),g(t.data.data)):B(1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=Object(S.a)(e.t0)).forbidden?Z.push("/"):a.general&&D(a.error);case 11:return e.prev=11,e.next=14,f.a.get("/admin-data/",{headers:{"x-access-token":localStorage.getItem("token")}});case 14:c=e.sent,r=c.data,K(r),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),(n=Object(S.a)(e.t1)).general&&D(n.error);case 23:case"end":return e.stop()}}),e,null,[[0,7],[11,19]])})));return function(){return e.apply(this,arguments)}})()()}),[w,Q,Z]);var $=function(){var e=Object(n.a)(l.a.mark((function e(t){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.a.delete("/reservations/".concat(t),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:a=r.filter((function(e,a,c){return e.id!==t})),g(a),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(c=Object(S.a)(e.t0)).general&&D(c.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){var e=Object(n.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(n.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(w-1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(n.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(w+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(n.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:N(_);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(o.a.Fragment,{children:[Object(c.jsx)(d.a,{}),Object(c.jsx)("div",{className:"container-fluid mb-4",children:Object(c.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(c.jsx)(j.a,{}),Object(c.jsx)("h5",{children:"Lista de Passageiros"}),Object(c.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:T?{display:"block"}:{display:"none"},children:T}),Object(c.jsx)("div",{className:"table-responsive-sm",children:Object(c.jsxs)("table",{className:"table table-responsive-lgcd ap table-sm table-striped table-hover",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"P. Ida"}),Object(c.jsx)("th",{scope:"col",children:"P. Volta"}),Object(c.jsx)("th",{scope:"col",children:"Nome"}),Object(c.jsx)("th",{scope:"col",children:"Colo"}),Object(c.jsx)("th",{scope:"col",children:"Respons\xe1vel"}),Object(c.jsx)("th",{scope:"col",children:"Telefone"}),Object(c.jsx)("th",{scope:"col"})]},"0")}),Object(c.jsx)("tbody",{children:r.map((function(e){var t=e.id,a=e.person,r=e.departureSeat,l=e.returnSeat,n=e.lapChild,s=e.user_id,i=a.name,o=a.phone,b=a.responsible,d=o?o.length:0,j=Object(c.jsx)("a",{className:"ms-2",href:"https://api.whatsapp.com/send?phone=55".concat(o),target:"_blank",rel:"noreferrer",children:Object(c.jsx)(u.a,{style:{color:"green"}})});return r||l||n?Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:r}),Object(c.jsx)("td",{children:l}),Object(c.jsx)("td",{children:i}),Object(c.jsx)("td",{children:n?"Sim":"N\xe3o"}),Object(c.jsx)("td",{children:b||""}),Object(c.jsxs)("td",{children:[o?"(".concat(e.person.phone.substr(0,2),") ").concat(o.substr(2,10===d?4:5),"-").concat(o.substr(10===d?6:7,4)):"",o?j:""]}),Object(c.jsx)("td",{children:s===H.user_id?Object(c.jsxs)("button",{className:"btn btn-link p-0",onClick:function(){$(t)},children:[Object(c.jsx)(h.a,{})," "]}):""})]},t):""}))})]})}),Object(c.jsx)("nav",{"aria-label":"Page navigation example",children:Object(c.jsxs)("ul",{className:"pagination",children:[Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===w,onClick:ee,children:Object(c.jsx)(p.a,{})})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===w,onClick:te,children:Object(c.jsx)(O.a,{})})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:w===_,onClick:ae,children:Object(c.jsx)(x.a,{})})}),Object(c.jsx)("li",{className:"page-item",children:Object(c.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:w===_,onClick:ce,children:Object(c.jsx)(m.a,{})})})]})}),Object(c.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(c.jsx)(y.b,{className:"btn btn-primary",document:Object(c.jsx)(C,{passengers:r,travel:F,departurePlaces:A}),fileName:"lista_viagem_".concat(Q,".pdf"),children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?"Carregando PDF...":"Exportar PDF"}}),Object(c.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){Z.push("/viagens/".concat(Q))},children:"Voltar"})]})]})})]})}}}]);
//# sourceMappingURL=9.db014adc.chunk.js.map