(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[21],{457:function(e,t,a){"use strict";a.r(t);var s=a(3),n=a(89),r=a.n(n),c=a(90),o=a(51),i=a(1),l=a.n(i),u=a(6),d=a(87),b=a(88),m=a(85),p=a(86),j=a(2);t.default=function(e){var t=Object(i.useState)(!1),a=Object(o.a)(t,2),n=a[0],g=a[1],h=Object(i.useState)(!1),v=Object(o.a)(h,2),O=v[0],x=v[1],y=Object(i.useState)({}),f=Object(o.a)(y,2),k=f[0],N=f[1],w=Object(i.useState)(""),S=Object(o.a)(w,2),P=S[0],C=S[1],E=Object(i.useState)(""),I=Object(o.a)(E,2),R=I[0],M=I[1],A=Object(i.useState)(""),B=Object(o.a)(A,2),D=B[0],F=B[1],L=Object(u.f)(),V=e.match.params.id,q=e.location.state.name,z={headers:{"x-access-token":localStorage.getItem("token")}};Object(i.useEffect)((function(){(function(){var e=Object(c.a)(r.a.mark((function e(){var t,a,s,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/reservations/".concat(V),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,a=t.data,s="1"===a.status?"1":"2"===a.status?"2":"3"===a.status?"1":"4"===a.status?"2":"5"===a.status?"1":"6"===a.status?"2":a.status,a.status=s,M(a),F(t.data.status),console.log(t.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),(n=Object(p.a)(e.t0)).forbidden?L.push("/"):n.general&&C(n.error);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[V,L]);var J=function(){var t=Object(c.a)(r.a.mark((function t(){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return x(!0),t.prev=1,t.next=4,m.a.put("/reservations/".concat(V),{active:!1},z);case 4:e.history.goBack(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),(a=Object(p.a)(t.t0)).general?C(a.error):N(a.error);case 11:x(!1);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),T=function(){var t=Object(c.a)(r.a.mark((function t(){var a,s;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),N({}),a="1"===R.status&&"1"===D||"1"===R.status&&"2"===D?"1":"1"===R.status&&"3"===D||"1"===R.status&&"4"===D?"3":"1"===R.status&&"5"===D||"1"===R.status&&"6"===D?"5":"2"===R.status&&"1"===D||"2"===R.status&&"2"===D?"2":"2"===R.status&&"3"===D||"2"===R.status&&"4"===D?"4":"2"===R.status&&"5"===D||"2"===R.status&&"6"===D?"6":"",t.prev=3,t.next=6,m.a.put("/reservations/".concat(V),{status:a},z);case 6:e.history.goBack(),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(3),g(!1),(s=Object(p.a)(t.t0)).general?C(s.error):N(s.error);case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)(l.a.Fragment,{children:[Object(j.jsx)(d.a,{}),Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(j.jsx)(b.a,{}),Object(j.jsx)("h5",{children:"Altera\xe7\xe3o do Status de Pagamento"}),Object(j.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:P?{display:"block"}:{display:"none"},children:P}),Object(j.jsx)("h6",{children:q}),Object(j.jsx)("form",{className:"row g-3 mt-1 mb-4",style:["1","2","3","4","5","6"].includes(D)?{display:"block"}:{display:"none"},children:Object(j.jsxs)("div",{className:"col-lg-3",children:[Object(j.jsx)("label",{htmlFor:"status",className:"form-label",children:"Status"}),Object(j.jsxs)("select",{className:"form-select ".concat(k.status?"is-invalid":""),id:"status",value:R.status||"",onChange:function(e){M(Object(s.a)(Object(s.a)({},R),{},{status:e.target.value}))},children:[Object(j.jsx)("option",{value:"1",children:"Esperando"}),Object(j.jsx)("option",{value:"2",children:"Recebido"})]}),Object(j.jsx)("div",{id:"validationStatus",className:"invalid-feedback",style:k.status?{display:"inline"}:{display:"none"},children:k.status})]})}),Object(j.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(j.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:T,disabled:n,style:["1","2","3","4","5","6"].includes(D)?{display:"block"}:{display:"none"},children:[Object(j.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:n?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(j.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:J,disabled:n,children:[Object(j.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:O?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(j.jsx)("button",{type:"button",className:"btn btn-warning text-white mb-4",onClick:function(){e.history.goBack()},children:"Voltar"})]})]})})]})}},84:function(e,t,a){"use strict";t.a=a.p+"static/media/logo.47d929e8.png"},85:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return r}));var s=a(91),n=a.n(s),r="https://api.ldviagens.com/",c=n.a.create({baseURL:r}),o=function(e){return n.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))}},86:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var s=function(e){if(e.hasOwnProperty("response")&&e.response){var t=!1;return t=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:t}:{general:!1,error:e.response.data,forbidden:t}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:t}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}}},87:function(e,t,a){"use strict";var s=a(1),n=a.n(s),r=a(84),c=a(98),o=(a(96),a(8)),i=a(2);function l(){return Object(i.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed mt-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})})}t.a=function(e){var t=e.hamburger,a=Object(i.jsx)(c.a,{phoneNumber:localStorage.getItem("companyPhone"),textReplyTime:"Responderemos assim que poss\xedvel",message:"Ol\xe1! O que podemos fazer por voc\xea?",companyName:localStorage.getItem("companyName"),sendButton:"Enviar",placeholder:"Digite sua mensagem"});return Object(i.jsxs)(n.a.Fragment,{children:[Object(i.jsx)("header",{className:"navbar navbar-light sticky-top bg-white p-0 shadow",children:Object(i.jsxs)("div",{className:"container text-center",children:[Object(i.jsx)("img",{className:"my-3 img-menu",src:r.a,alt:"Logo"}),"none"!==t?Object(i.jsx)(l,{}):""]})}),"admin"!==Object(o.b)()?a:""]})}},88:function(e,t,a){"use strict";a(1);var s=a(55),n=a(8),r=a(2);t.a=function(){var e=[],t=Object(n.b)();return t||(e=[{key:3,name:"In\xedcio",to:"/inicio"},{key:1,name:"Login",to:"/login"},{key:2,name:"Cadastrar",to:"/registro"}]),"admin"===t&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/admin-inicial"},{key:2,name:"Dados Admin",to:"/usuarios/".concat(Object(n.a)())},{key:3,name:"Reservas",to:"/reservas"},{key:4,name:"Visualiza\xe7\xe3o de Usu\xe1rios",to:"/usuarios"},{key:5,name:"Cadastro de Viagens",to:"/viagens"},{key:6,name:"Cadastro de \xd4nibus",to:"/onibus"},{key:7,name:"Sair",to:"/sair"}]),"regular"===t&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/"},{key:2,name:"Meus Dados",to:"/usuarios/".concat(Object(n.a)())},{key:3,name:"Minhas Reservas",to:"/minhas-reservas"},{key:4,name:"Sair",to:"/sair"}]),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(r.jsx)("div",{className:"position-sticky pt-3",children:Object(r.jsx)("ul",{className:"nav flex-column",children:e.map((function(e){return Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(s.b,{className:"nav-link","aria-current":"page",to:e.to,children:e.name})},e.key)}))})})})})}}}]);
//# sourceMappingURL=21.2bca2941.chunk.js.map