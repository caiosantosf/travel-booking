(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{295:function(e,t,a){},321:function(e,t){},323:function(e,t){},365:function(e,t){},366:function(e,t){},499:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(2),s=a.n(c),r=a(192),i=a.n(r),l=(a(295),a(5)),o=a(21),d=a(33),b=a(274),j=function(e){try{var t=localStorage.getItem("token");return t&&Object(b.a)(t)[e]||!1}catch(a){return!1}},u=function(){return j("type")},p=function(){return j("id")},m=a(4),h=a.n(m),x=a(8),O=a(6),v=a(199),f=a.n(v),y="https://api.ldviagens.com/",g=f.a.create({baseURL:y}),N=function(e){return f.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))},k=a.p+"static/media/logo.4fa702a3.png",w=function(e){if(e.hasOwnProperty("response")&&e.response){var t=!1;return t=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:t}:{general:!1,error:e.response.data,forbidden:t}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:t}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}};var C=function(e){var t=Object(c.useState)({}),a=Object(O.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)({}),b=Object(O.a)(i,2),j=b[0],p=b[1],m=Object(c.useState)(!1),v=Object(O.a)(m,2),f=v[0],y=v[1],N=Object(c.useState)(""),C=Object(O.a)(N,2),S=C[0],P=C[1],F="/admin"===e.match.url,A="/sair"===e.match.url,D=localStorage.getItem("token"),I=localStorage.getItem("to"),E=Object(d.f)();Object(c.useEffect)((function(){A&&(localStorage.removeItem("token"),E.push("/"))}),[A,E]),Object(c.useEffect)((function(){if(D)if(I)localStorage.setItem("to",""),E.push(I);else{var e=u();"admin"===e?E.push("/admin-inicial"):"regular"===e&&E.push("/")}}),[D,E,I]);var R=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,r,i;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),p({}),e.next=5,g.post("/users/login/".concat(F?"admin":""),s);case 5:t=e.sent,a=t.data,n=a.token,c=a.companyName,r=a.companyPhone,T(n,c,r),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),(i=w(e.t0)).general?P(i.error):p(i.error),y(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),T=function(e,t,a){localStorage.setItem("token",e),localStorage.setItem("companyName",t),localStorage.setItem("companyPhone",a),y(!1)};return Object(n.jsx)("div",{className:"container container-login",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"text-center mb-3",children:[Object(n.jsx)("img",{className:"mb-3 img-login",src:k,alt:"Logo"}),Object(n.jsx)("h5",{children:"Sistema de reserva"})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:S?{display:"block"}:{display:"none"},children:S}),Object(n.jsx)("label",{htmlFor:"cpf",className:"form-label",children:"CPF"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(j.cpf?"is-invalid":""),id:"cpf",maxLength:"11",value:s.cpf||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&r(Object(l.a)(Object(l.a)({},s),{},{cpf:t}))}}),Object(n.jsx)("div",{id:"validationCpf",className:"invalid-feedback",style:j.cpf?{display:"inline"}:{display:"none"},children:j.cpf})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{htmlFor:"password",className:"form-label",children:"Senha"}),Object(n.jsx)("input",{type:"password",className:"form-control ".concat(j.password?"is-invalid":""),id:"password",maxLength:"8",onChange:function(e){r(Object(l.a)(Object(l.a)({},s),{},{password:e.target.value}))}}),Object(n.jsx)("div",{id:"validationPassword",className:"invalid-feedback",style:j.password?{display:"inline"}:{display:"none"},children:j.password})]}),Object(n.jsx)("div",{className:"mb-3",children:Object(n.jsx)(o.b,{to:"/email-redefine-senha",children:"Esqueci minha senha"})}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:R,disabled:f,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:f?{display:"inline-block"}:{display:"none"}}),"Entrar"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",style:F?{display:"none"}:{display:"inline-block"},onClick:function(){E.push("/registro")},children:"Cadastrar"})]})]})})};var S=function(){var e=Object(c.useState)({}),t=Object(O.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)({}),i=Object(O.a)(r,2),o=i[0],b=i[1],j=Object(c.useState)(!1),u=Object(O.a)(j,2),p=u[0],m=u[1],v=Object(d.f)(),f=function(){var e=Object(x.a)(h.a.mark((function e(){var t,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),t=window.location.hostname,e.next=5,g.post("/users/login/emailresetpassword?domain=".concat(t),a);case 5:n=e.sent,b({email:n.data.email,error:!1}),m(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(0),(c=w(e.t0)).forbidden?v.push("/"):b(Object(l.a)(Object(l.a)({},c.error),{},{error:!0})),m(!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)("div",{className:"container container-login",children:Object(n.jsxs)("form",{children:[Object(n.jsx)("div",{className:"alert text-center ".concat(o.error?"alert-danger":"alert-warning"),role:"alert",style:o.email?{display:"block"}:{display:"none"},children:o.email}),Object(n.jsx)("div",{className:"text-center mb-3",children:Object(n.jsx)("h5",{children:"Enviaremos para o seu email um link para cadastro de nova senha"})}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(n.jsx)("input",{type:"email",className:"form-control",id:"email",maxLength:"255",value:a.email||"",onChange:function(e){var t=e.target.value;s({email:t})}})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:f,disabled:p,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:p?{display:"inline-block"}:{display:"none"}}),"Enviar"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){v.push("/")},children:"Voltar"})]})]})})};var P=function(e){var t=Object(c.useState)({}),a=Object(O.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)({}),o=Object(O.a)(i,2),b=o[0],j=o[1],u=Object(c.useState)(!1),p=Object(O.a)(u,2),m=p[0],v=p[1],f=Object(d.f)(),y=function(){var t=Object(x.a)(h.a.mark((function t(){var a,n,c,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,s.password!==s.passwordConfirmation){t.next=12;break}return v(!0),a=e.match.params.id,n=e.location.search.replace("?token=",""),t.next=7,g.patch("/users/login/resetpassword/".concat(a),{password:s.password,reset:!0},{headers:{"x-access-token":n}});case 7:c=t.sent,j(Object(l.a)(Object(l.a)({},c.data),{},{error:!1})),v(!1),t.next=13;break;case 12:j({message:"A Senha n\xe3o bate com a confirma\xe7\xe3o",error:!0});case 13:r({}),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(0),(i=w(t.t0)).forbidden?f.push("/"):j(Object(l.a)(Object(l.a)({},i.error),{},{error:!0})),v(!1);case 21:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"container container-login",children:[Object(n.jsx)("div",{className:"alert text-center ".concat(b.error?"alert-danger":"alert-warning"),role:"alert",style:b.message?{display:"block"}:{display:"none"},children:b.message||b.password}),Object(n.jsx)("div",{className:"text-center mb-3",children:Object(n.jsx)("h5",{children:"Cadastre sua nova senha"})}),Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{htmlFor:"password",className:"form-label",children:"Senha"}),Object(n.jsx)("input",{type:"password",className:"form-control",id:"password",maxLength:"8",value:s.password||"",onChange:function(e){var t=e.target.value;r(Object(l.a)(Object(l.a)({},s),{},{password:t}))}})]}),Object(n.jsxs)("div",{className:"mb-2",children:[Object(n.jsx)("label",{htmlFor:"passwordConfirmation",className:"form-label",children:"Confirme a Senha"}),Object(n.jsx)("input",{type:"password",className:"form-control",id:"passwordConfirmation",maxLength:"8",value:s.passwordConfirmation||"",onChange:function(e){var t=e.target.value;r(Object(l.a)(Object(l.a)({},s),{},{passwordConfirmation:t}))}})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:y,disabled:m,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:m?{display:"inline-block"}:{display:"none"}}),"Enviar"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){f.push("/")},children:"Voltar"})]})]})]})},F=a(288);a(317);function A(){return Object(n.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed mt-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})})}var D=function(e){var t=e.hamburger,a=Object(n.jsx)(F.a,{phoneNumber:localStorage.getItem("companyPhone"),textReplyTime:"Responderemos assim que poss\xedvel",message:"Ol\xe1! O que podemos fazer por voc\xea?",companyName:localStorage.getItem("companyName"),sendButton:"Enviar",placeholder:"Digite sua mensagem"});return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("header",{className:"navbar navbar-light sticky-top bg-white p-0 shadow",children:Object(n.jsxs)("div",{className:"container text-center",children:[Object(n.jsx)("img",{className:"my-3 img-menu",src:k,alt:"Logo"}),"none"!==t?Object(n.jsx)(A,{}):""]})}),"admin"!==u()?a:""]})};var I=function(){var e=[],t=u();return t||(e=[{key:1,name:"Login",to:"/login"},{key:2,name:"Cadastrar",to:"/registro"}]),"admin"===t&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/admin-inicial"},{key:2,name:"Dados Admin",to:"/usuarios/".concat(p())},{key:3,name:"Reservas",to:"/reservas"},{key:4,name:"Visualiza\xe7\xe3o de Usu\xe1rios",to:"/usuarios"},{key:5,name:"Cadastro de Viagens",to:"/viagens"},{key:6,name:"Cadastro de \xd4nibus",to:"/onibus"},{key:7,name:"Sair",to:"/sair"}]),"regular"===t&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/"},{key:2,name:"Meus Dados",to:"/usuarios/".concat(p())},{key:3,name:"Minhas Reservas",to:"/minhas-reservas"},{key:4,name:"Sair",to:"/sair"}]),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(n.jsx)("div",{className:"position-sticky pt-3",children:Object(n.jsx)("ul",{className:"nav flex-column",children:e.map((function(e){return Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(o.b,{className:"nav-link","aria-current":"page",to:e.to,children:e.name})},e.key)}))})})})})},E=a(503),R=a(80),T=function(e){var t=new Date(e);return{day:t.getDate().toString().padStart(2,"0"),month:(t.getMonth()+1).toString().padStart(2,"0"),year:t.getFullYear(),hour:t.getHours().toString().padStart(2,"0"),minute:t.getMinutes().toString().padStart(2,"0")}},L=function(e){var t=T(e),a=t.day,n=t.month,c=t.year,s=t.hour,r=t.minute;return"".concat(a,"/").concat(n,"/").concat(c," ").concat(s,":").concat(r)},V=function(e){var t=T(e),a=t.day,n=t.month,c=t.year,s=t.hour,r=t.minute;return"".concat(c,"-").concat(n,"-").concat(a,"T").concat(s,":").concat(r)},M=function(e){var t=new Date,a=new Date(e.split("/").reverse().join("-")+" 00:00:00"),n=t.getFullYear()-a.getFullYear(),c=t.getMonth()-a.getMonth();return(c<0||0===c&&t.getDate()<a.getDate())&&(n-=1),n},_=function(e,t,a,n){var c,s=0,r=!1,i=Object(R.a)(e);try{for(i.s();!(c=i.n()).done;){var l=c.value;if(t>=l.initialAge&&t<=l.finalAge&&(l.lapChild&&(r=!0),l.lapChild===n)){s="normal"===a?l.value:"departure"===a?l.onlyDepartureValue:l.onlyReturnValue;break}}}catch(o){i.e(o)}finally{i.f()}return{value:s,optionLapChild:r}},B=function(e){var t={};return"pending"===e&&(t={status:e,translated:"Pendente (MP)",color:"text-warning"}),"approved"===e&&(t={status:e,translated:"Aprovado (MP)",color:"text-success"}),"authorized"===e&&(t={status:e,translated:"Pendente (MP)",color:"text-warning"}),"in_process"===e&&(t={status:e,translated:"Em Processamento (MP)",color:"text-warning"}),"in_mediation"===e&&(t={status:e,translated:"Em Disputa (MP)",color:"text-warning"}),"rejected"===e&&(t={status:e,translated:"Rejeitado (MP)",color:"text-danger"}),"cancelled"===e&&(t={status:e,translated:"Cancelado (MP)",color:"text-danger"}),"refunded"===e&&(t={status:e,translated:"Devolvido (MP)",color:"text-danger"}),"charged_back"===e&&(t={status:e,translated:"Estornado (MP)",color:"text-danger"}),"created"===e&&(t={status:e,translated:"Criado (MP)",color:"text-warning"}),"1"===e&&(t={status:e,translated:"Confirmar (Pix)",color:"text-warning"}),"2"===e&&(t={status:e,translated:"Confirmado (Pix)",color:"text-success"}),"3"===e&&(t={status:e,translated:"Confirmar (Infinite)",color:"text-warning"}),"4"===e&&(t={status:e,translated:"Confirmado (Infinite)",color:"text-success"}),"5"===e&&(t={status:e,translated:"Confirmar (Formulario)",color:"text-warning"}),"6"===e&&(t={status:e,translated:"Confirmado (Formulario)",color:"text-success"}),"7"===e&&(t={status:e,translated:"No Embarque",color:"text-success"}),"dependent"===e&&(t={status:e,translated:"Dependente",color:"text-success"}),t};var G=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(""),l=Object(O.a)(i,2),d=l[0],b=l[1],j=Object(c.useState)(null),u=Object(O.a)(j,2),p=u[0],m=u[1];return Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/travels",{headers:{openTravels:!0,"x-access-token":localStorage.getItem("token")}});case 3:200===(t=e.sent).status?(r(t.data),t.data.length||m(Object(n.jsx)("h1",{children:"No momento n\xe3o temos viagens em aberto!"}))):m(Object(n.jsx)("h1",{children:"No momento n\xe3o temos viagens em aberto!"})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).general&&b(a.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:d?{display:"block"}:{display:"none"},children:d}),p,Object(n.jsx)("div",{className:"row row-cols-1 row-cols-md-2 row-cols-xl-3 row-cols-xxl-4 g-3",children:a.map((function(e){var t=e.id,a=e.description,c=e.destination,s=e.departurePlaces,r=e.values,i=e.imageName,l=e.seatsAvailable,d=1===r.length,b=Math.ceil(1e6*Math.random()),j=l<=10&&l>1?"* \xdaltimas ".concat(l," Poltronas!"):1===l?"\xdaltima Poltrona!":"",u=Object(n.jsx)("div",{className:"text-danger mt-1",children:j});return Object(n.jsx)("div",{className:"col",children:Object(n.jsx)(o.b,{className:"card-link",to:"/reserva/".concat(t,"/").concat(b),children:Object(n.jsxs)("div",{className:"card shadow-sm bg-light",children:[Object(n.jsx)("img",{src:"".concat(y,"uploads/").concat(i),className:"card-img-top center-cropped",alt:c}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{children:c}),Object(n.jsxs)("p",{className:"card-text",children:[a,j?u:""]}),Object(n.jsx)("hr",{}),s.map((function(e,t){var a=e.id,c=e.departureDate,s=e.returnDate,r=e.city;return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"d-block ".concat(t?"mt-2":""),children:"Sa\xedda de ".concat(r)}),Object(n.jsxs)("span",{children:[Object(n.jsx)(E.a,{})," ".concat(L(c)," - ").concat(L(s))]})]},a)})),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{children:r.map((function(e,t){var a=e.id,c=e.value,s=e.onlyDepartureValue,r=e.onlyReturnValue,i=e.initialAge,l=e.finalAge,o=e.lapChild;return Object(n.jsxs)("div",{className:t?"mt-2":"",children:[d?"":o?"Crian\xe7a de Colo":99===l?"Acima de ".concat(i," anos"):"At\xe9 ".concat(l," anos"),Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)("div",{className:"badge bg-custom-primary fs-5",children:"R$ ".concat(c.replace(".00","").replace(".",","))}),Object(n.jsxs)("div",{className:"ms-1 badge bg-custom-secondary price-secondary",style:s>0?{display:"inline"}:{display:"none"},children:[Object(n.jsx)("span",{className:"d-block fs-7 text-start",children:"S\xf3 Ida "}),Object(n.jsx)("span",{className:"d-block fs-6",children:Number.isInteger(s)?"R$ ".concat(s.replace(".",",")):"R$ ".concat(s.replace(".00",""))})]}),Object(n.jsxs)("div",{className:"ms-1 badge bg-custom-secondary",style:r>0?{display:"inline"}:{display:"none"},children:[Object(n.jsx)("span",{className:"d-block fs-7 text-start",children:"S\xf3 Volta"}),Object(n.jsx)("span",{className:"d-block fs-6",children:Number.isInteger(r)?"R$ ".concat(r.replace(".",",")):"R$ ".concat(r.replace(".00",""))})]})]})]},a)}))})]})]})})},t)}))})]})})]})},K=a(289),$=a(150),W=a.n($);var z=function(e){var t=Object(c.useState)({documentType:"RG",state:"AC"}),a=Object(O.a)(t,2),r=a[0],i=a[1],o=Object(c.useState)({infinitePay:!1,companyPayment:!1,mercadoPago:!1,pix:!1,pixKeyType:"email"}),b=Object(O.a)(o,2),j=b[0],m=b[1],v=Object(c.useState)({}),f=Object(O.a)(v,2),y=f[0],k=f[1],C=Object(c.useState)(!1),S=Object(O.a)(C,2),P=S[0],F=S[1],A=Object(c.useState)(""),E=Object(O.a)(A,2),R=E[0],T=E[1],V=Object(d.f)(),M=localStorage.getItem("to"),_=parseInt(e.match.params.id),B=!1,G=!1;"admin"===u()&&(parseInt(p())===_?B=!0:G=!0),B||G||!_||_===parseInt(p())||V.push("/acesso-negado"),Object(c.useEffect)((function(){_&&function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/users/".concat(_),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:if(t=e.sent,(a=t.data).birth=L(a.birth).substr(0,10),delete a.password,i(a),!B){e.next=15;break}return e.next=11,g.get("/admin-data/",{headers:{"x-access-token":localStorage.getItem("token")}});case 11:n=e.sent,(c=n.data).pixKeyType||(c.pixKeyType="email"),m(c);case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),(s=w(e.t0)).forbidden?V.push("/"):s.general&&T(s.error);case 21:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}()()}),[_,V,B]);var $=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s,i,l,o,d;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,F(!0),k({}),!(r.password!==r.passwordConfirmation&&!_||r.newPassword!==r.passwordConfirmation&&_)){e.next=8;break}k({passwordConfirmation:"Confirma\xe7\xe3o de Senha est\xe1 diferente da Senha"}),F(!1),e.next=26;break;case 8:if(r.passwordConfirmation,t=r.id,(a=Object(K.a)(r,["passwordConfirmation","id"])).birth&&(n=a.birth.split("/"),a.birth="".concat(n[2],"-").concat(n[1],"-").concat(n[0])),c={headers:{"x-access-token":localStorage.getItem("token")}},!t){e.next=17;break}return e.next=14,g.put("/users/".concat(t),a,c);case 14:e.t0=e.sent,e.next=20;break;case 17:return e.next=19,g.post("/users/",a);case 19:e.t0=e.sent;case 20:if(s=e.t0,i=s.data,l=i.type,o=i.token,!B){e.next=25;break}return e.next=25,g.put("/admin-data/".concat(t),j,c);case 25:U(l,o);case 26:e.next=34;break;case 28:e.prev=28,e.t1=e.catch(0),(d=w(e.t1)).general?T(d.error):k(d.error),window.scrollTo({top:0,behavior:"smooth"}),F(!1);case 34:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(r.cep);case 3:t=e.sent,(a=t.data).erro||i(Object(l.a)(Object(l.a)({},r),{},{homeAddress:a.logradouro,complement:a.complement,neighborhood:a.bairro,city:a.localidade,state:a.uf})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),k({cep:"CEP Inv\xe1lido!"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),U=function(e,t){t&&localStorage.setItem("token",t),F(!1),M?(V.push(M),localStorage.setItem("to","")):"admin"===e?V.push("/admin-inicial"):V.push("/")};return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:_?"Dados do usu\xe1rio":"Informe seus dados para o cadastro"}),Object(n.jsxs)("form",{className:"row g-3 mt-1",children:[Object(n.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:R?{display:"block"}:{display:"none"},children:R}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"name",className:"form-label",children:"Nome ".concat(B?"da Empresa":"")}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.userName?"is-invalid":""),id:"name",maxLength:"255",disabled:G,value:r.name||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{name:e.target.value}))}}),Object(n.jsx)("div",{id:"validationName",className:"invalid-feedback",style:y.userName?{display:"inline"}:{display:"none"},children:y.userName})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"cpf",className:"form-label",children:"CPF ".concat(B?"do Respons\xe1vel":"")}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.cpf?"is-invalid":""),id:"cpf",maxLength:"11",disabled:G,value:r.cpf||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&i(Object(l.a)(Object(l.a)({},r),{},{cpf:t}))}}),Object(n.jsx)("div",{id:"validationCpf",className:"invalid-feedback",style:y.cpf?{display:"inline"}:{display:"none"},children:y.cpf})]}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"birth",className:"form-label",children:"Nascimento"}),Object(n.jsx)(W.a,{mask:"99/99/9999",className:"form-control ".concat(y.birth?"is-invalid":""),id:"birth",disabled:G,value:r.birth||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{birth:e.target.value}))},children:function(e){return Object(n.jsx)("input",Object(l.a)(Object(l.a)({},e),{},{type:"tel"}))}}),Object(n.jsx)("div",{id:"validationBirth",className:"invalid-feedback",style:y.birth?{display:"inline"}:{display:"none"},children:y.birth})]}),Object(n.jsxs)("div",{className:"col-lg-2",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"documentType",className:"form-label",children:"Tipo de Documento"}),Object(n.jsxs)("select",{className:"form-select ".concat(y.documentType?"is-invalid":""),id:"documentType",disabled:G,value:r.documentType||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{documentType:e.target.value}))},children:[Object(n.jsx)("option",{value:"RG",children:"RG"}),Object(n.jsx)("option",{value:"CNH",children:"CNH"})]}),Object(n.jsx)("div",{id:"validationDocumentType",className:"invalid-feedback",style:y.documentType?{display:"inline"}:{display:"none"},children:y.documentType})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"document",className:"form-label",children:"".concat(B?"CNPJ":"Documento")}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.document?"is-invalid":""),id:"document",maxLength:"14",disabled:G,value:r.document||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{document:e.target.value}))}}),Object(n.jsx)("div",{id:"validationDocument",className:"invalid-feedback",style:y.document?{display:"inline"}:{display:"none"},children:y.document})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"phone",className:"form-label",children:"Celular (WhatsApp)"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.phone?"is-invalid":""),id:"phone",maxLength:"11",disabled:G,value:r.phone||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&i(Object(l.a)(Object(l.a)({},r),{},{phone:t}))}}),Object(n.jsx)("div",{id:"validationPhone",className:"invalid-feedback",style:y.phone?{display:"inline"}:{display:"none"},children:y.phone})]}),Object(n.jsxs)("div",{className:"col-lg-4",children:[Object(n.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email"}),Object(n.jsx)("input",{type:"email",className:"form-control ".concat(y.email?"is-invalid":""),id:"email",maxLength:"255",disabled:G,value:r.email||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{email:e.target.value}))}}),Object(n.jsx)("div",{id:"validationEmail",className:"invalid-feedback",style:y.email?{display:"inline"}:{display:"none"},children:y.email})]}),Object(n.jsxs)("div",{className:"col-lg-2",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"cep",className:"form-label",children:"CEP"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.cep?"is-invalid":""),id:"cep",maxLength:"8",disabled:G,value:r.cep||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&i(Object(l.a)(Object(l.a)({},r),{},{cep:t}))},onBlur:z}),Object(n.jsx)("div",{id:"validationCep",className:"invalid-feedback",style:y.cep?{display:"inline"}:{display:"none"},children:y.cep})]}),Object(n.jsxs)("div",{className:"col-lg-6",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"homeAddress",className:"form-label",children:"Endere\xe7o"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.homeAddress?"is-invalid":""),id:"homeAddress",maxLength:"255",disabled:G,value:r.homeAddress||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{homeAddress:e.target.value}))}}),Object(n.jsx)("div",{id:"validationHomeAddress",className:"invalid-feedback",style:y.homeAddress?{display:"inline"}:{display:"none"},children:y.homeAddress})]}),Object(n.jsxs)("div",{className:"col-lg-1",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"addressNumber",className:"form-label",children:"N\xfamero"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.addressNumber?"is-invalid":""),id:"addressNumber",maxLength:"5",disabled:G,value:r.addressNumber||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&i(Object(l.a)(Object(l.a)({},r),{},{addressNumber:t}))}}),Object(n.jsx)("div",{id:"validationNumber",className:"invalid-feedback",style:y.addressNumber?{display:"inline"}:{display:"none"},children:y.addressNumber})]}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"complement",className:"form-label",children:"Complemento"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.complement?"is-invalid":""),id:"complement",maxLength:"255",disabled:G,value:r.complement||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{complement:e.target.value}))}}),Object(n.jsx)("div",{id:"validationComplement",className:"invalid-feedback",style:y.complement?{display:"inline"}:{display:"none"},children:y.complement})]}),Object(n.jsxs)("div",{className:"col-lg-6",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"neighborhood",className:"form-label",children:"Bairro"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.neighborhood?"is-invalid":""),id:"neighborhood",maxLength:"255",disabled:G,value:r.neighborhood||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{neighborhood:e.target.value}))}}),Object(n.jsx)("div",{id:"validationNeighborhood",className:"invalid-feedback",style:y.neighborhood?{display:"inline"}:{display:"none"},children:y.neighborhood})]}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"state",className:"form-label",children:"Estado"}),Object(n.jsxs)("select",{className:"form-select ".concat(y.state?"is-invalid":""),id:"state",disabled:G,value:r.state||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{state:e.target.value}))},children:[Object(n.jsx)("option",{value:"AC",children:"Acre"}),Object(n.jsx)("option",{value:"AL",children:"Alagoas"}),Object(n.jsx)("option",{value:"AP",children:"Amap\xe1"}),Object(n.jsx)("option",{value:"AM",children:"Amazonas"}),Object(n.jsx)("option",{value:"BA",children:"Bahia"}),Object(n.jsx)("option",{value:"CE",children:"Cear\xe1"}),Object(n.jsx)("option",{value:"DF",children:"Distrito Federal"}),Object(n.jsx)("option",{value:"ES",children:"Esp\xedrito Santo"}),Object(n.jsx)("option",{value:"GO",children:"Goi\xe1s"}),Object(n.jsx)("option",{value:"MA",children:"Maranh\xe3o"}),Object(n.jsx)("option",{value:"MT",children:"Mato Grosso"}),Object(n.jsx)("option",{value:"MS",children:"Mato Grosso do Sul"}),Object(n.jsx)("option",{value:"MG",children:"Minas Gerais"}),Object(n.jsx)("option",{value:"PA",children:"Par\xe1"}),Object(n.jsx)("option",{value:"PB",children:"Para\xedba"}),Object(n.jsx)("option",{value:"PR",children:"Paran\xe1"}),Object(n.jsx)("option",{value:"PE",children:"Pernambuco"}),Object(n.jsx)("option",{value:"PI",children:"Piau\xed"}),Object(n.jsx)("option",{value:"RJ",children:"Rio de Janeiro"}),Object(n.jsx)("option",{value:"RN",children:"Rio Grande do Norte"}),Object(n.jsx)("option",{value:"RS",children:"Rio Grande do Sul"}),Object(n.jsx)("option",{value:"RO",children:"Rond\xf4nia"}),Object(n.jsx)("option",{value:"RR",children:"Roraima"}),Object(n.jsx)("option",{value:"SC",children:"Santa Catarina"}),Object(n.jsx)("option",{value:"SP",children:"S\xe3o Paulo"}),Object(n.jsx)("option",{value:"SE",children:"Sergipe"}),Object(n.jsx)("option",{value:"TO",children:"Tocantins"})]}),Object(n.jsx)("div",{id:"validationState",className:"invalid-feedback",style:y.state?{display:"inline"}:{display:"none"},children:y.state})]}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("label",{htmlFor:"city",className:"form-label",children:"Cidade"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.city?"is-invalid":""),id:"city",maxLength:"255",disabled:G,value:r.city||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{city:e.target.value}))}}),Object(n.jsx)("div",{id:"validationCity",className:"invalid-feedback",style:y.city?{display:"inline"}:{display:"none"},children:y.city})]}),Object(n.jsxs)("div",{className:"col-lg-4",children:[Object(n.jsx)("label",{htmlFor:"password",className:"form-label",children:"Senha ".concat(_?"Atual":"")}),Object(n.jsx)("input",{type:"password",className:"form-control ".concat(y.password?"is-invalid":""),id:"password",disabled:G,value:r.password||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{password:e.target.value}))}}),Object(n.jsx)("div",{id:"validationPassword",className:"invalid-feedback",style:y.password?{display:"inline"}:{display:"none"},children:y.password})]}),Object(n.jsxs)("div",{className:"col-lg-4",style:_?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"newPassword",className:"form-label",children:"Nova Senha"}),Object(n.jsx)("input",{type:"password",className:"form-control ".concat(y.newPassword?"is-invalid":""),id:"newPassword",disabled:G,value:r.newPassword||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{newPassword:e.target.value}))}}),Object(n.jsx)("div",{id:"validationNewPassword",className:"invalid-feedback",style:y.newPassword?{display:"inline"}:{display:"none"},children:y.newPassword})]}),Object(n.jsxs)("div",{className:"col-lg-4",children:[Object(n.jsx)("label",{htmlFor:"passwordConfirmation",className:"form-label",children:"Confirme a Senha"}),Object(n.jsx)("input",{type:"password",className:"form-control ".concat(y.passwordConfirmation?"is-invalid":""),id:"passwordConfirmation",disabled:G,value:r.passwordConfirmation||"",onChange:function(e){i(Object(l.a)(Object(l.a)({},r),{},{passwordConfirmation:e.target.value}))}}),Object(n.jsx)("div",{id:"validationPasswordConfirmation",className:"invalid-feedback",style:y.passwordConfirmation?{display:"inline"}:{display:"none"},children:y.passwordConfirmation})]}),Object(n.jsx)("div",{className:"clearfix",style:B?{display:"inline-block"}:{display:"none"}}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"infinitePay",className:"form-label",children:"InfinitePay"}),Object(n.jsxs)("select",{className:"form-select ".concat(y.infinitePay?"is-invalid":""),id:"infinitePay",value:j.infinitePay.toString()||"false",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{infinitePay:"true"===e.target.value}))},children:[Object(n.jsx)("option",{value:!0,children:"Sim"}),Object(n.jsx)("option",{value:!1,children:"N\xe3o"})]}),Object(n.jsx)("div",{id:"validationInfinitePay",className:"invalid-feedback",style:y.infinitePay?{display:"inline"}:{display:"none"},children:y.infinitePay})]}),Object(n.jsxs)("div",{className:"col-lg-9",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"infinitePayUser",className:"form-label",children:"Usu\xe1rio InfinitePay"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.infinitePayUser?"is-invalid":""),id:"infinitePayUser",maxLength:"255",value:j.infinitePayUser||"",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{infinitePayUser:e.target.value}))}}),Object(n.jsx)("div",{id:"validationInfinitePayUser",className:"invalid-feedback",style:y.infinitePayUser?{display:"inline"}:{display:"none"},children:y.infinitePayUser})]}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"companyPayment",className:"form-label",children:"Pagamento Direto"}),Object(n.jsxs)("select",{className:"form-select ".concat(y.companyPayment?"is-invalid":""),id:"companyPayment",value:j.companyPayment.toString()||"false",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{companyPayment:"true"===e.target.value}))},children:[Object(n.jsx)("option",{value:!0,children:"Sim"}),Object(n.jsx)("option",{value:!1,children:"N\xe3o"})]}),Object(n.jsx)("div",{id:"validationCompanyPayment",className:"invalid-feedback",style:y.companyPayment?{display:"inline"}:{display:"none"},children:y.companyPayment})]}),Object(n.jsxs)("div",{className:"col-lg-9",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"companyPaymentLink",className:"form-label",children:"Pagamento Direto Link"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.companyPaymentLink?"is-invalid":""),id:"companyPaymentLink",maxLength:"255",value:j.companyPaymentLink||"",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{companyPaymentLink:e.target.value}))}}),Object(n.jsx)("div",{id:"validationCompanyPaymentLink",className:"invalid-feedback",style:y.companyPaymentLink?{display:"inline"}:{display:"none"},children:y.companyPaymentLink})]}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"companyPayment",className:"form-label",children:"Mercado Pago"}),Object(n.jsxs)("select",{className:"form-select ".concat(y.mercadoPago?"is-invalid":""),id:"mercadoPago",value:j.mercadoPago.toString()||"false",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{mercadoPago:"true"===e.target.value}))},children:[Object(n.jsx)("option",{value:!0,children:"Sim"}),Object(n.jsx)("option",{value:!1,children:"N\xe3o"})]}),Object(n.jsx)("div",{id:"validationMercadoPago",className:"invalid-feedback",style:y.mercadoPago?{display:"inline"}:{display:"none"},children:y.mercadoPago})]}),Object(n.jsxs)("div",{className:"col-lg-9",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"mercadoPagoToken",className:"form-label",children:"Mercado Pago Token"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.mercadoPagoToken?"is-invalid":""),id:"mercadoPagoToken",maxLength:"255",value:j.mercadoPagoToken||"",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{mercadoPagoToken:e.target.value}))}}),Object(n.jsx)("div",{id:"validationMercadoPagoToken",className:"invalid-feedback",style:y.mercadoPagoToken?{display:"inline"}:{display:"none"},children:y.mercadoPagoToken})]}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"pix",className:"form-label",children:"Pix"}),Object(n.jsxs)("select",{className:"form-select ".concat(y.pix?"is-invalid":""),id:"pix",value:j.pix.toString()||"false",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{pix:"true"===e.target.value}))},children:[Object(n.jsx)("option",{value:!0,children:"Sim"}),Object(n.jsx)("option",{value:!1,children:"N\xe3o"})]}),Object(n.jsx)("div",{id:"validationPix",className:"invalid-feedback",style:y.pix?{display:"inline"}:{display:"none"},children:y.pix})]}),Object(n.jsxs)("div",{className:"col-lg-3",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"pixKeyType",className:"form-label",children:"Tipo Chave Pix"}),Object(n.jsxs)("select",{className:"form-select ".concat(y.pixKeyType?"is-invalid":""),id:"pixKeyType",value:j.pixKeyType||"email",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{pixKeyType:e.target.value}))},children:[Object(n.jsx)("option",{value:"email",children:"Email"}),Object(n.jsx)("option",{value:"phone",children:"Telefone"}),Object(n.jsx)("option",{value:"cpf",children:"CPF"})]}),Object(n.jsx)("div",{id:"validationPixKeyType",className:"invalid-feedback",style:y.pixKeyType?{display:"inline"}:{display:"none"},children:y.pixKeyType})]}),Object(n.jsxs)("div",{className:"col-lg-6",style:B?{display:"inline-block"}:{display:"none"},children:[Object(n.jsx)("label",{htmlFor:"pixKey",className:"form-label",children:"Chave Pix"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(y.pixKey?"is-invalid":""),id:"pixKey",maxLength:"255",value:j.pixKey||"",onChange:function(e){m(Object(l.a)(Object(l.a)({},j),{},{pixKey:e.target.value}))}}),Object(n.jsx)("div",{id:"validationPixKey",className:"invalid-feedback",style:y.pixKey?{display:"inline"}:{display:"none"},children:y.pixKey})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:$,disabled:P,style:G?{display:"none"}:{display:"inline-block"},children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:P?{display:"inline-block"}:{display:"none"}}),"Confirmar"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){e.history.goBack()},children:"Voltar"})]})]})]})})]})},U=a(504),q=a(505),H=a(506),J=a(507),Y=a(508),Q=a(509);var X=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(1),l=Object(O.a)(i,2),b=l[0],j=l[1],u=Object(c.useState)(0),p=Object(O.a)(u,2),m=p[0],v=p[1],f=Object(c.useState)(""),y=Object(O.a)(f,2),N=y[0],k=y[1],C=Object(d.f)();Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/users",{headers:{currentPage:b,"x-access-token":localStorage.getItem("token")}});case 3:200===(t=e.sent).status?(v(t.data.pagination.lastPage),r(t.data.data)):v(1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).forbidden?C.push("/"):a.general&&k(a.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[b,C]);var S=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b-1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Visualiza\xe7\xe3o de Usu\xe1rios"}),Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:N?{display:"block"}:{display:"none"},children:N}),Object(n.jsx)("div",{className:"table-responsive-sm",children:Object(n.jsxs)("table",{className:"table table-responsive-sm table-sm table-striped table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Nome"}),Object(n.jsx)("th",{scope:"col",children:"CPF"}),Object(n.jsx)("th",{scope:"col",children:"Telefone"}),Object(n.jsx)("th",{scope:"col",children:"A\xe7\xf5es"})]},"0")}),Object(n.jsx)("tbody",{children:a.map((function(e){var t=e.phone.length;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.name}),Object(n.jsx)("td",{children:e.cpf}),Object(n.jsxs)("td",{children:["(".concat(e.phone.substr(0,2),") ").concat(e.phone.substr(2,10===t?4:5),"-").concat(e.phone.substr(10===t?6:7,4)),Object(n.jsx)("a",{className:"ms-2",href:"https://api.whatsapp.com/send?phone=55".concat(e.phone),target:"_blank",rel:"noreferrer",children:Object(n.jsx)(U.a,{style:{color:"green"}})})]}),Object(n.jsx)("td",{children:Object(n.jsxs)(o.b,{to:"/usuarios/".concat(e.id),children:[Object(n.jsx)(q.a,{})," "]})})]},e.id)}))})]})}),Object(n.jsx)("nav",{"aria-label":"Page navigation example",children:Object(n.jsxs)("ul",{className:"pagination",children:[Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:S,children:Object(n.jsx)(H.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:P,children:Object(n.jsx)(J.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:F,children:Object(n.jsx)(Y.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:A,children:Object(n.jsx)(Q.a,{})})})]})})]})})]})};var Z=function(){return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h1",{children:"\xc1rea do administrador"}),Object(n.jsx)("h5",{children:"Acesse a funcionalidade desejada pelo menu"})]})})]})};var ee=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(1),l=Object(O.a)(i,2),b=l[0],j=l[1],u=Object(c.useState)(0),p=Object(O.a)(u,2),m=p[0],v=p[1],f=Object(c.useState)(""),y=Object(O.a)(f,2),N=y[0],k=y[1],C=Object(d.f)();Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/buses",{headers:{currentPage:b,"x-access-token":localStorage.getItem("token")}});case 3:200===(t=e.sent).status?(v(t.data.pagination.lastPage),r(t.data.data)):v(1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).forbidden?C.push("/"):a.general&&k(a.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[b,C]);var S=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b-1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.push("/onibus/novo");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Cadastro de \xf4nibus"}),Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:N?{display:"block"}:{display:"none"},children:N}),Object(n.jsx)("div",{className:"table-responsive-sm",children:Object(n.jsxs)("table",{className:"table table-sm table-striped table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Descri\xe7\xe3o"}),Object(n.jsx)("th",{scope:"col",children:"Assentos"}),Object(n.jsx)("th",{scope:"col",children:"A\xe7\xf5es"})]},"0")}),Object(n.jsx)("tbody",{children:a.map((function(e){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:e.description}),Object(n.jsx)("td",{children:(t=e.layout.seats,t.filter((function(e){return e})).length)}),Object(n.jsx)("td",{children:Object(n.jsx)(o.b,{className:"me-2",to:"/onibus/".concat(e.id),children:Object(n.jsx)(q.a,{})})})]},e.id);var t}))})]})}),Object(n.jsx)("nav",{"aria-label":"Page navigation example",children:Object(n.jsxs)("ul",{className:"pagination",children:[Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:S,children:Object(n.jsx)(H.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:P,children:Object(n.jsx)(J.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:F,children:Object(n.jsx)(Y.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:A,children:Object(n.jsx)(Q.a,{})})})]})}),Object(n.jsx)("div",{className:"text-center d-grid gap-2",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:E,children:"Novo"})})]})})]})};var te=function(e){var t=Object(c.useState)(!1),a=Object(O.a)(t,2),r=a[0],i=a[1],o=Object(c.useState)(!1),b=Object(O.a)(o,2),j=b[0],u=b[1],p=Object(c.useState)({description:"",layout:{seats:[]}}),m=Object(O.a)(p,2),v=m[0],f=m[1],y=Object(c.useState)({}),N=Object(O.a)(y,2),k=N[0],C=N[1],S=Object(c.useState)(""),P=Object(O.a)(S,2),F=P[0],A=P[1],E=Object(c.useState)(4),R=Object(O.a)(E,2),T=R[0],L=R[1],V=Object(d.f)(),M=e.match.params.id,_={headers:{"x-access-token":localStorage.getItem("token")}};Object(c.useEffect)((function(){"novo"!==M&&function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/buses/".concat(M),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,f(t.data),L(t.data.layout.seats.length),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),(a=w(e.t0)).forbidden?V.push("/"):a.general&&A(a.error);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[M,V]);var B=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(T+1),(t=v.layout.seats).push(0),f(Object(l.a)(Object(l.a)({},v),{},{layout:{seats:t}}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),C({}),e.prev=2,"novo"===M){e.next=8;break}return e.next=6,g.put("/buses/".concat(M),v,_);case 6:e.next=10;break;case 8:return e.next=10,g.post("/buses",v,_);case 10:V.push("/onibus"),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),i(!1),(t=w(e.t0)).general?A(t.error):C(t.error);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,g.delete("/buses/".concat(M),_);case 4:V.push("/onibus"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(t=w(e.t0)).general?A(t.error):C(t.error);case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Cadastro de \xf4nibus"}),Object(n.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:F?{display:"block"}:{display:"none"},children:F}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("label",{htmlFor:"description",className:"form-label",children:"Descri\xe7\xe3o"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.description?"is-invalid":""),id:"description",maxLength:"255",value:v.description||"",onChange:function(e){f(Object(l.a)(Object(l.a)({},v),{},{description:e.target.value}))}}),Object(n.jsx)("div",{id:"validationName",className:"invalid-feedback",style:k.description?{display:"inline"}:{display:"none"},children:k.description})]}),Object(n.jsxs)("div",{className:"col-md-2",children:[Object(n.jsx)("label",{htmlFor:"layout",className:"form-label",children:"Layout"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:B,children:"Adicionar Poltrona"})]}),Object(n.jsx)("div",{className:"col-lg-6 col-xl-4",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("label",{htmlFor:"layout",className:"form-label",children:"Informe o n\xfamero das poltronas"}),Array.from({length:T},(function(e,t){return Object(n.jsx)("div",{className:"col-3 mb-1",children:Object(n.jsx)("input",{type:"number",className:"form-control",maxLength:"2",value:v.layout.seats[t]||"",onChange:function(e){var a=v.layout.seats;a[t]=parseInt(e.target.value),f(Object(l.a)(Object(l.a)({},v),{},{layout:{seats:a}}))}})},t)}))]})})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:G,disabled:r,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:r?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==M?{display:"inline-block"}:{display:"none"},onClick:K,disabled:j,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:j?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white mb-4",onClick:function(){V.push("/onibus")},children:"Voltar"})]})]})})]})};var ae=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(1),l=Object(O.a)(i,2),b=l[0],j=l[1],u=Object(c.useState)(0),p=Object(O.a)(u,2),m=p[0],v=p[1],f=Object(c.useState)(""),y=Object(O.a)(f,2),N=y[0],k=y[1],C=Object(d.f)();Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/travels",{headers:{currentPage:b,"x-access-token":localStorage.getItem("token")}});case 3:200===(t=e.sent).status?(v(t.data.pagination.lastPage),r(t.data.data)):v(1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).forbidden?C.push("/"):a.general&&k(a.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[b,C]);var S=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b-1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:C.push("/viagens/novo");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Cadastro de viagens"}),Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:N?{display:"block"}:{display:"none"},children:N}),Object(n.jsx)("div",{className:"table-responsive-sm",children:Object(n.jsxs)("table",{className:"table table-sm table-striped table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Descri\xe7\xe3o"}),Object(n.jsx)("th",{scope:"col",children:"Destino"}),Object(n.jsx)("th",{scope:"col",children:"Sa\xedda"}),Object(n.jsx)("th",{scope:"col",children:"A\xe7\xf5es"})]},"0")}),Object(n.jsx)("tbody",{children:a.map((function(e){var t=e.id,a=e.description,c=e.destination,s=e.departurePlaces,r=s.length?L(s[0].departureDate):"";return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:a}),Object(n.jsx)("td",{children:c}),Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:Object(n.jsx)(o.b,{className:"me-2",to:"/viagens/".concat(t),children:Object(n.jsx)(q.a,{})})})]},t)}))})]})}),Object(n.jsx)("nav",{"aria-label":"Page navigation example",children:Object(n.jsxs)("ul",{className:"pagination",children:[Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:S,children:Object(n.jsx)(H.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:P,children:Object(n.jsx)(J.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:F,children:Object(n.jsx)(Y.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:A,children:Object(n.jsx)(Q.a,{})})})]})}),Object(n.jsx)("div",{className:"text-center d-grid gap-2",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:E,children:"Novo"})})]})})]})};var ne=function(e){var t=Object(c.useState)(!1),a=Object(O.a)(t,2),r=a[0],i=a[1],b=Object(c.useState)(!1),j=Object(O.a)(b,2),u=j[0],p=j[1],m=Object(c.useState)({}),v=Object(O.a)(m,2),f=v[0],y=v[1],N=Object(c.useState)({}),k=Object(O.a)(N,2),C=k[0],S=k[1],P=Object(c.useState)(""),F=Object(O.a)(P,2),A=F[0],E=F[1],R=Object(c.useState)(),T=Object(O.a)(R,2),V=T[0],M=T[1],_=Object(c.useState)([]),B=Object(O.a)(_,2),G=B[0],K=B[1],$=Object(c.useState)([]),W=Object(O.a)($,2),z=W[0],U=W[1],H=Object(c.useState)([]),J=Object(O.a)(H,2),Y=J[0],Q=J[1],X=Object(d.f)(),Z=e.match.params.id,ee={headers:{"x-access-token":localStorage.getItem("token")}};Object(c.useEffect)((function(){var e=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/travels/".concat(Z),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,a=t.data,U(a.values),Q(a.departurePlaces),y(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),(n=w(e.t0)).forbidden?X.push("/"):n.general&&E(n.error);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/buses",{headers:{"x-access-token":localStorage.getItem("token")}});case 3:200===(t=e.sent).status&&(a=t.data,K(a),"novo"===Z&&y({controlsSeats:!0,departurePayment:!0,bus_id:a[0].id})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(n=w(e.t0)).forbidden?X.push("/"):n.general&&E(n.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();"novo"!==Z&&e(),t()}),[Z,X]);var te=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),S({}),e.prev=2,t=0,"novo"===Z){e.next=13;break}return delete(a=Object(l.a)({},f)).values,delete a.departurePlaces,delete a.seats,e.next=11,g.put("/travels/".concat(Z),a,ee);case 11:e.next=17;break;case 13:return e.next=15,g.post("/travels",f,ee);case 15:n=e.sent,t=n.data.id;case 17:if(!V){e.next=23;break}return(c=new FormData).append("name",f.description),c.append("file",V),e.next=23,g.patch("/travels/image/".concat(t||Z),c,ee);case 23:i(!1),"novo"!==Z?X.push("/viagens"):X.push("/viagens/".concat(t)),e.next=32;break;case 27:e.prev=27,e.t0=e.catch(2),i(!1),(s=w(e.t0)).general?E(s.error):S(s.error);case 32:case"end":return e.stop()}}),e,null,[[2,27]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,g.delete("/travels/".concat(Z),ee);case 4:X.push("/viagens"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(t=w(e.t0)).general?E(t.error):S(t.error);case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X.push("/viagens/".concat(Z,"/valores/novo"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:X.push("/viagens/".concat(Z,"/saidas/novo"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Cadastro de viagens"}),Object(n.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:A?{display:"block"}:{display:"none"},children:A}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("label",{htmlFor:"description",className:"form-label",children:"Descri\xe7\xe3o"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(C.description?"is-invalid":""),id:"description",maxLength:"255",value:f.description||"",onChange:function(e){y(Object(l.a)(Object(l.a)({},f),{},{description:e.target.value}))}}),Object(n.jsx)("div",{id:"validationDescription",className:"invalid-feedback",style:C.description?{display:"inline"}:{display:"none"},children:C.description})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("label",{htmlFor:"destination",className:"form-label",children:"Destino"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(C.destination?"is-invalid":""),id:"description",maxLength:"255",value:f.destination||"",onChange:function(e){y(Object(l.a)(Object(l.a)({},f),{},{destination:e.target.value}))}}),Object(n.jsx)("div",{id:"validationDestination",className:"invalid-feedback",style:C.destination?{display:"inline"}:{display:"none"},children:C.destination})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("label",{htmlFor:"bus",className:"form-label",children:"\xd4nibus"}),Object(n.jsx)("select",{className:"form-select ".concat(C.bus_id?"is-invalid":""),id:"bus",value:f.bus_id||"",onChange:function(e){y(Object(l.a)(Object(l.a)({},f),{},{bus_id:e.target.value}))},children:G.map((function(e){return Object(n.jsx)("option",{value:e.id,children:e.description},e.id)}))}),Object(n.jsx)("div",{id:"validationBusId",className:"invalid-feedback",style:C.bus_id?{display:"inline"}:{display:"none"},children:C.bus_id})]}),Object(n.jsxs)("div",{className:"col-md-3",children:[Object(n.jsx)("label",{className:"form-label",htmlFor:"controlsSeat",children:"Controla Poltronas?"}),Object(n.jsxs)("select",{className:"form-select ".concat(C.controlsSeats?"is-invalid":""),id:"controlsSeat",value:f.controlsSeats||"false",onChange:function(e){y(Object(l.a)(Object(l.a)({},f),{},{controlsSeats:e.target.value}))},children:[Object(n.jsx)("option",{value:!0,children:"Sim"}),Object(n.jsx)("option",{value:!1,children:"N\xe3o"})]}),Object(n.jsx)("div",{id:"validationControlsSeats",className:"invalid-feedback",style:C.controlsSeats?{display:"inline"}:{display:"none"},children:C.controlsSeats})]}),Object(n.jsxs)("div",{className:"col-md-3",children:[Object(n.jsx)("label",{className:"form-label",htmlFor:"departurePayment",children:"Pagamento no Embarque?"}),Object(n.jsxs)("select",{className:"form-select ".concat(C.departurePayment?"is-invalid":""),id:"departurePayment",value:f.departurePayment||"false",onChange:function(e){y(Object(l.a)(Object(l.a)({},f),{},{departurePayment:e.target.value}))},children:[Object(n.jsx)("option",{value:!0,children:"Sim"}),Object(n.jsx)("option",{value:!1,children:"N\xe3o"})]}),Object(n.jsx)("div",{id:"validationDeparturePayment",className:"invalid-feedback",style:C.departurePayment?{display:"inline"}:{display:"none"},children:C.departurePayment})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("label",{htmlFor:"file",className:"form-label",children:"Imagem"}),Object(n.jsx)("input",{name:"file",type:"file",className:"form-control file-upload",onChange:function(e){var t=e.target.files[0];M(t)}})]}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("label",{htmlFor:"notes",className:"form-label",children:"Observa\xe7\xf5es"}),Object(n.jsx)("textarea",{type:"text",className:"form-control ".concat(C.notes?"is-invalid":""),id:"description",maxLength:"1000",value:f.notes||"",onChange:function(e){y(Object(l.a)(Object(l.a)({},f),{},{notes:e.target.value}))}}),Object(n.jsx)("div",{id:"validationNotes",className:"invalid-feedback",style:C.notes?{display:"inline"}:{display:"none"},children:C.notes})]}),Object(n.jsxs)("div",{style:"novo"!==Z?{display:"block"}:{display:"none"},children:[Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("label",{htmlFor:"",className:"form-label",children:"Valores"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:ne,children:"Adicionar Valor"})]}),Object(n.jsx)("div",{className:"table-responsive-sm mt-1",children:Object(n.jsxs)("table",{className:"table table-sm table-striped table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Idade Ini."}),Object(n.jsx)("th",{scope:"col",children:"idade Fin."}),Object(n.jsx)("th",{scope:"col",children:"Valor"}),Object(n.jsx)("th",{scope:"col",children:"Valor Ida"}),Object(n.jsx)("th",{scope:"col",children:"Valor Volta"}),Object(n.jsx)("th",{scope:"col",children:"A\xe7\xf5es"})]},"0")}),Object(n.jsx)("tbody",{children:z.map((function(e){var t=e.id,a=e.value,c=e.onlyReturnValue,s=e.onlyDepartureValue,r=e.initialAge,i=e.finalAge;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:i}),Object(n.jsx)("td",{children:a}),Object(n.jsx)("td",{children:s}),Object(n.jsx)("td",{children:c}),Object(n.jsx)("td",{children:Object(n.jsx)(o.b,{className:"me-2",to:"/viagens/".concat(Z,"/valores/").concat(t),children:Object(n.jsx)(q.a,{})})})]},t)}))})]})}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("label",{htmlFor:"",className:"form-label",children:"Pontos de Sa\xedda"}),Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:ce,children:"Adicionar Ponto de Sa\xedda"})]}),Object(n.jsx)("div",{className:"table-responsive-sm mt-1",children:Object(n.jsxs)("table",{className:"table table-sm table-striped table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Endere\xe7o"}),Object(n.jsx)("th",{scope:"col",children:"N\xfamero"}),Object(n.jsx)("th",{scope:"col",children:"Cidade"}),Object(n.jsx)("th",{scope:"col",children:"Data e Hora de Sa\xedda"}),Object(n.jsx)("th",{scope:"col",children:"Data e Hora de Retorno"}),Object(n.jsx)("th",{scope:"col",children:"A\xe7\xf5es"})]},"0")}),Object(n.jsx)("tbody",{children:Y.map((function(e){var t=e.id,a=e.homeAddress,c=e.addressNumber,s=e.city,r=e.departureDate,i=e.returnDate;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:a}),Object(n.jsx)("td",{children:c}),Object(n.jsx)("td",{children:s}),Object(n.jsx)("td",{children:L(r)}),Object(n.jsx)("td",{children:L(i)}),Object(n.jsx)("td",{children:Object(n.jsx)(o.b,{className:"me-2",to:"/viagens/".concat(Z,"/saidas/").concat(t),children:Object(n.jsx)(q.a,{})})})]},t)}))})]})})]})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:te,disabled:r,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:r?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsx)("button",{type:"button",style:"novo"!==Z?{display:"inline-block"}:{display:"none"},className:"btn btn-primary",onClick:function(){return X.push("/reserva/".concat(Z,"/").concat(Math.ceil(1e6*Math.random())))},children:"Fazer Reserva"}),Object(n.jsx)("button",{type:"button",style:"novo"!==Z?{display:"inline-block"}:{display:"none"},className:"btn btn-primary",onClick:function(){return X.push("/viagens/".concat(Z,"/reservas"),{travel:f,departurePlaces:Y})},children:"Lista de Passageiros"}),Object(n.jsx)("button",{type:"button",style:"novo"!==Z?{display:"inline-block"}:{display:"none"},className:"btn btn-primary",onClick:function(){return X.push("/viagens/".concat(Z,"/pagamentos"))},children:"Pagamentos"}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==Z?{display:"inline-block"}:{display:"none"},onClick:ae,disabled:u,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:u?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){X.push("/viagens")},children:"Voltar"})]})]})})]})};var ce=function(e){var t=Object(c.useState)(!1),a=Object(O.a)(t,2),r=a[0],i=a[1],o=Object(c.useState)(!1),b=Object(O.a)(o,2),j=b[0],u=b[1],p=Object(c.useState)({}),m=Object(O.a)(p,2),v=m[0],f=m[1],y=Object(c.useState)(""),N=Object(O.a)(y,2),k=N[0],C=N[1],S=Object(c.useState)({lapChild:!1,value:0,onlyDepartureValue:0,onlyReturnValue:0,initialAge:0,finalAge:0}),P=Object(O.a)(S,2),F=P[0],A=P[1],E=Object(d.f)(),R=e.match.params,T=R.travel_id,L=R.id,V={headers:{"x-access-token":localStorage.getItem("token")}};Object(c.useEffect)((function(){"novo"!==L&&function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/travels/".concat(T,"/values/").concat(L),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,a=t.data,A(a),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),(n=w(e.t0)).forbidden?E.push("/"):n.general&&C(n.error);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[T,L,E]);var M=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),f({}),e.prev=2,"novo"===L){e.next=8;break}return e.next=6,g.put("/travels/".concat(T,"/values/").concat(L),F,V);case 6:e.next=10;break;case 8:return e.next=10,g.post("/travels/".concat(T,"/values"),F,V);case 10:E.push("/viagens/".concat(T)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),i(!1),(t=w(e.t0)).general?C(t.error):f(t.error);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,g.delete("/travels/".concat(T,"/values/").concat(L),V);case 4:E.push("/viagens/".concat(T)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(t=w(e.t0)).general?C(t.error):f(t.error);case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Cadastro de valores da viagem"}),Object(n.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:k?{display:"block"}:{display:"none"},children:k}),Object(n.jsxs)("div",{className:"col-md-3",children:[Object(n.jsx)("label",{htmlFor:"initialAge",className:"form-label",children:"Idade Inicial"}),Object(n.jsx)("input",{id:"initialAge",type:"number",className:"form-control ".concat(v.initialAge?"is-invalid":""),max:"99",value:F.initialAge||0,onChange:function(e){A(Object(l.a)(Object(l.a)({},F),{},{initialAge:e.target.value}))}}),Object(n.jsx)("div",{id:"validationInitialAge",className:"invalid-feedback",style:v.initialAge?{display:"inline"}:{display:"none"},children:v.initialAge})]}),Object(n.jsxs)("div",{className:"col-md-3",children:[Object(n.jsx)("label",{htmlFor:"finalAge",className:"form-label",children:"Idade Final"}),Object(n.jsx)("input",{id:"finalAge",type:"number",className:"form-control ".concat(v.finalAge?"is-invalid":""),max:"99",value:F.finalAge||0,onChange:function(e){A(Object(l.a)(Object(l.a)({},F),{},{finalAge:e.target.value}))}}),Object(n.jsx)("div",{id:"validationFinalAge",className:"invalid-feedback",style:v.finalAge?{display:"inline"}:{display:"none"},children:v.finalAge})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("label",{htmlFor:"value",className:"form-label",children:"Valor"}),Object(n.jsx)("input",{id:"value",type:"number",className:"form-control ".concat(v.value?"is-invalid":""),value:F.value||0,onChange:function(e){A(Object(l.a)(Object(l.a)({},F),{},{value:e.target.value}))}}),Object(n.jsx)("div",{id:"validationValue",className:"invalid-feedback",style:v.value?{display:"inline"}:{display:"none"},children:v.value})]}),Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsx)("label",{htmlFor:"onlyDepartureValue",className:"form-label",children:"Valor Ida"}),Object(n.jsx)("input",{id:"onlyDepartureValue",type:"number",className:"form-control ".concat(v.onlyDepartureValue?"is-invalid":""),value:F.onlyDepartureValue||0,onChange:function(e){A(Object(l.a)(Object(l.a)({},F),{},{onlyDepartureValue:e.target.value}))}}),Object(n.jsx)("div",{id:"validationOnlyDepartureValue",className:"invalid-feedback",style:v.onlyDepartureValue?{display:"inline"}:{display:"none"},children:v.onlyDepartureValue})]}),Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsx)("label",{htmlFor:"onlyReturnValue",className:"form-label",children:"Valor Retorno"}),Object(n.jsx)("input",{id:"onlyReturnValue",type:"number",className:"form-control ".concat(v.onlyReturnValue?"is-invalid":""),value:F.onlyReturnValue||0,onChange:function(e){A(Object(l.a)(Object(l.a)({},F),{},{onlyReturnValue:e.target.value}))}}),Object(n.jsx)("div",{id:"validationOnlyReturnValue",className:"invalid-feedback",style:v.onlyReturnValue?{display:"inline"}:{display:"none"},children:v.onlyReturnValue})]}),Object(n.jsxs)("div",{className:"col-md-4",children:[Object(n.jsx)("label",{className:"form-label",htmlFor:"lapChild",children:"Crian\xe7a de colo?"}),Object(n.jsxs)("select",{className:"form-select ".concat(v.lapChild?"is-invalid":""),id:"lapChild",value:F.lapChild||!1,onChange:function(e){A(Object(l.a)(Object(l.a)({},F),{},{lapChild:e.target.value}))},children:[Object(n.jsx)("option",{value:!1,children:"N\xe3o"}),Object(n.jsx)("option",{value:!0,children:"Sim"})]}),Object(n.jsx)("div",{id:"validationLapChild",className:"invalid-feedback",style:v.lapChild?{display:"inline"}:{display:"none"},children:v.lapChild})]})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:M,disabled:r,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:r?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==L?{display:"inline-block"}:{display:"none"},onClick:_,disabled:j,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:j?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){E.push("/viagens/".concat(T))},children:"Voltar"})]})]})})]})};var se=function(e){var t=Object(c.useState)(!1),a=Object(O.a)(t,2),r=a[0],i=a[1],o=Object(c.useState)(!1),b=Object(O.a)(o,2),j=b[0],u=b[1],p=Object(c.useState)({}),m=Object(O.a)(p,2),v=m[0],f=m[1],y=Object(c.useState)(""),k=Object(O.a)(y,2),C=k[0],S=k[1],P=Object(c.useState)({state:"AC"}),F=Object(O.a)(P,2),A=F[0],E=F[1],R=Object(d.f)(),T=e.match.params,L=T.travel_id,M=T.id,_={headers:{"x-access-token":localStorage.getItem("token")}};Object(c.useEffect)((function(){"novo"!==M&&function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/travels/".concat(L,"/departureplaces/").concat(M),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,(a=t.data).departureDate=V(a.departureDate),a.returnDate=V(a.returnDate),E(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),(n=w(e.t0)).forbidden?R.push("/"):n.general&&S(n.error);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[L,M,R]);var B=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(!0),f({}),e.prev=2,"novo"===M){e.next=8;break}return e.next=6,g.put("/travels/".concat(L,"/departureplaces/").concat(M),A,_);case 6:e.next=10;break;case 8:return e.next=10,g.post("/travels/".concat(L,"/departureplaces"),A,_);case 10:R.push("/viagens/".concat(L)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),i(!1),(t=w(e.t0)).general?S(t.error):f(t.error);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,g.delete("/travels/".concat(L,"/departureplaces/").concat(M),_);case 4:R.push("/viagens/".concat(L)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(t=w(e.t0)).general?S(t.error):f(t.error);case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(A.cep);case 3:t=e.sent,(a=t.data).erro||E(Object(l.a)(Object(l.a)({},A),{},{homeAddress:a.logradouro,complement:a.complement,neighborhood:a.bairro,city:a.localidade,state:a.uf})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f({cep:"CEP Inv\xe1lido!"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Cadastro de pontos de sa\xedda da viagem"}),Object(n.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:C?{display:"block"}:{display:"none"},children:C}),Object(n.jsxs)("div",{className:"col-lg-2",children:[Object(n.jsx)("label",{htmlFor:"initialAge",className:"form-label",children:"CEP"}),Object(n.jsx)("input",{id:"initialAge",type:"text",className:"form-control ".concat(v.cep?"is-invalid":""),maxLength:"8",value:A.cep||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&E(Object(l.a)(Object(l.a)({},A),{},{cep:t}))},onBlur:K}),Object(n.jsx)("div",{id:"validationInitialAge",className:"invalid-feedback",style:v.cep?{display:"inline"}:{display:"none"},children:v.cep})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"homeAddress",className:"form-label",children:"Endere\xe7o"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(v.homeAddress?"is-invalid":""),id:"homeAddress",maxLength:"255",value:A.homeAddress||"",onChange:function(e){E(Object(l.a)(Object(l.a)({},A),{},{homeAddress:e.target.value}))}}),Object(n.jsx)("div",{id:"validationHomeAddress",className:"invalid-feedback",style:v.homeAddress?{display:"inline"}:{display:"none"},children:v.homeAddress})]}),Object(n.jsxs)("div",{className:"col-lg-1",children:[Object(n.jsx)("label",{htmlFor:"addressNumber",className:"form-label",children:"N\xfamero"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(v.addressNumber?"is-invalid":""),id:"addressNumber",maxLength:"5",value:A.addressNumber||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&E(Object(l.a)(Object(l.a)({},A),{},{addressNumber:t}))}}),Object(n.jsx)("div",{id:"validationNumber",className:"invalid-feedback",style:v.addressNumber?{display:"inline"}:{display:"none"},children:v.addressNumber})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"complement",className:"form-label",children:"Complemento"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(v.complement?"is-invalid":""),id:"complement",maxLength:"255",value:A.complement||"",onChange:function(e){E(Object(l.a)(Object(l.a)({},A),{},{complement:e.target.value}))}}),Object(n.jsx)("div",{id:"validationComplement",className:"invalid-feedback",style:v.complement?{display:"inline"}:{display:"none"},children:v.complement})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"neighborhood",className:"form-label",children:"Bairro"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(v.neighborhood?"is-invalid":""),id:"neighborhood",maxLength:"255",value:A.neighborhood||"",onChange:function(e){E(Object(l.a)(Object(l.a)({},A),{},{neighborhood:e.target.value}))}}),Object(n.jsx)("div",{id:"validationNeighborhood",className:"invalid-feedback",style:v.neighborhood?{display:"inline"}:{display:"none"},children:v.neighborhood})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"state",className:"form-label",children:"Estado"}),Object(n.jsxs)("select",{className:"form-select ".concat(v.state?"is-invalid":""),id:"state",value:A.state||"",onChange:function(e){E(Object(l.a)(Object(l.a)({},A),{},{state:e.target.value}))},children:[Object(n.jsx)("option",{value:"AC",children:"Acre"}),Object(n.jsx)("option",{value:"AL",children:"Alagoas"}),Object(n.jsx)("option",{value:"AP",children:"Amap\xe1"}),Object(n.jsx)("option",{value:"AM",children:"Amazonas"}),Object(n.jsx)("option",{value:"BA",children:"Bahia"}),Object(n.jsx)("option",{value:"CE",children:"Cear\xe1"}),Object(n.jsx)("option",{value:"DF",children:"Distrito Federal"}),Object(n.jsx)("option",{value:"ES",children:"Esp\xedrito Santo"}),Object(n.jsx)("option",{value:"GO",children:"Goi\xe1s"}),Object(n.jsx)("option",{value:"MA",children:"Maranh\xe3o"}),Object(n.jsx)("option",{value:"MT",children:"Mato Grosso"}),Object(n.jsx)("option",{value:"MS",children:"Mato Grosso do Sul"}),Object(n.jsx)("option",{value:"MG",children:"Minas Gerais"}),Object(n.jsx)("option",{value:"PA",children:"Par\xe1"}),Object(n.jsx)("option",{value:"PB",children:"Para\xedba"}),Object(n.jsx)("option",{value:"PR",children:"Paran\xe1"}),Object(n.jsx)("option",{value:"PE",children:"Pernambuco"}),Object(n.jsx)("option",{value:"PI",children:"Piau\xed"}),Object(n.jsx)("option",{value:"RJ",children:"Rio de Janeiro"}),Object(n.jsx)("option",{value:"RN",children:"Rio Grande do Norte"}),Object(n.jsx)("option",{value:"RS",children:"Rio Grande do Sul"}),Object(n.jsx)("option",{value:"RO",children:"Rond\xf4nia"}),Object(n.jsx)("option",{value:"RR",children:"Roraima"}),Object(n.jsx)("option",{value:"SC",children:"Santa Catarina"}),Object(n.jsx)("option",{value:"SP",children:"S\xe3o Paulo"}),Object(n.jsx)("option",{value:"SE",children:"Sergipe"}),Object(n.jsx)("option",{value:"TO",children:"Tocantins"})]}),Object(n.jsx)("div",{id:"validationState",className:"invalid-feedback",style:v.state?{display:"inline"}:{display:"none"},children:v.state})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"city",className:"form-label",children:"Cidade"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(v.city?"is-invalid":""),id:"city",maxLength:"255",value:A.city||"",onChange:function(e){E(Object(l.a)(Object(l.a)({},A),{},{city:e.target.value}))}}),Object(n.jsx)("div",{id:"validationCity",className:"invalid-feedback",style:v.city?{display:"inline"}:{display:"none"},children:v.city})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"departureDate",className:"form-label",children:"Data de Sa\xedda"}),Object(n.jsx)("input",{type:"datetime-local",className:"form-control ".concat(v.departureDate?"is-invalid":""),id:"departureDate",value:A.departureDate||"",onChange:function(e){E(Object(l.a)(Object(l.a)({},A),{},{departureDate:e.target.value}))}}),Object(n.jsx)("div",{id:"validationDepartureDate",className:"invalid-feedback",style:v.departureDate?{display:"inline"}:{display:"none"},children:v.departureDate})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"returnDate",className:"form-label",children:"Data de Retorno"}),Object(n.jsx)("input",{type:"datetime-local",className:"form-control ".concat(v.returnDate?"is-invalid":""),id:"departureDate",value:A.returnDate||"",onChange:function(e){E(Object(l.a)(Object(l.a)({},A),{},{returnDate:e.target.value}))}}),Object(n.jsx)("div",{id:"validationReturnDate",className:"invalid-feedback",style:v.returnDate?{display:"inline"}:{display:"none"},children:v.returnDate})]})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:B,disabled:r,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:r?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==M?{display:"inline-block"}:{display:"none"},onClick:G,disabled:j,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:j?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){R.push("/viagens/".concat(L))},children:"Voltar"})]})]})})]})},re=a(510),ie=a(20),le=ie.d.create({table:{display:"table",width:"auto",borderStyle:"solid",borderWidth:1,borderRightWidth:0,borderBottomWidth:0,margin:10},tableRow:{margin:"auto",flexDirection:"row"},tableColSmall:{width:"7%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColMedium:{width:"19%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColBig:{width:"30%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCell:{margin:"auto",marginTop:5,fontSize:10},title:{margin:10}});var oe=function(e){var t=e.passengers,a=e.travel,c=e.departurePlaces;return Object(n.jsx)(ie.a,{children:Object(n.jsxs)(ie.c,{size:"A4",style:le.page,children:[Object(n.jsx)(ie.e,{style:le.title,children:"".concat(a.destination," - ").concat(L(c[0].departureDate))}),Object(n.jsxs)(ie.f,{style:le.table,children:[Object(n.jsxs)(ie.f,{style:le.tableRow,children:[Object(n.jsx)(ie.f,{style:le.tableColSmall,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:"P. Ida"})}),Object(n.jsx)(ie.f,{style:le.tableColSmall,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:"P. Volta"})}),Object(n.jsx)(ie.f,{style:le.tableColMedium,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:"Pagamento"})}),Object(n.jsx)(ie.f,{style:le.tableColBig,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:"Ponto"})}),Object(n.jsx)(ie.f,{style:le.tableColBig,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:"Nome"})}),Object(n.jsx)(ie.f,{style:le.tableColSmall,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:"Colo"})})]}),t.map((function(e){var t=e.id,a=e.person,s=e.departureSeat,r=e.returnSeat,i=e.lapChild,l=e.status,o=e.departurePlace_id,d=a.name;return s||r||i?Object(n.jsxs)(ie.f,{style:le.tableRow,children:[Object(n.jsx)(ie.f,{style:le.tableColSmall,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:s})}),Object(n.jsx)(ie.f,{style:le.tableColSmall,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:r})}),Object(n.jsx)(ie.f,{style:le.tableColMedium,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:B(l).translated})}),Object(n.jsx)(ie.f,{style:le.tableColBig,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:c.filter((function(e){return e.id===o}))[0].homeAddress})}),Object(n.jsx)(ie.f,{style:le.tableColBig,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:d})}),Object(n.jsx)(ie.f,{style:le.tableColSmall,children:Object(n.jsx)(ie.e,{style:le.tableCell,children:i?"Sim":"N\xe3o"})})]},t):null}))]})]})})};var de=function(e){var t=Object(c.useState)([]),a=Object(O.a)(t,2),r=a[0],i=a[1],l=Object(c.useState)(1),o=Object(O.a)(l,2),b=o[0],j=o[1],u=Object(c.useState)(0),p=Object(O.a)(u,2),m=p[0],v=p[1],f=Object(c.useState)(""),y=Object(O.a)(f,2),N=y[0],k=y[1],C=Object(c.useState)({}),S=Object(O.a)(C,2),P=S[0],F=S[1],A=Object(c.useState)([{}]),E=Object(O.a)(A,2),R=E[0],T=E[1],L=Object(c.useState)({}),V=Object(O.a)(L,2),M=V[0],_=V[1],B=e.match.params.travel_id,G=e.location.state,K=G.travel,$=G.departurePlaces,W=Object(d.f)();Object(c.useEffect)((function(){F(K),T($)}),[K,$]),Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/reservations",{headers:{travel_id:B,active:!0,currentPage:b,"x-access-token":localStorage.getItem("token"),list:"passengers"}});case 3:200===(t=e.sent).status?(v(t.data.pagination.lastPage),i(t.data.data)):v(1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).forbidden?W.push("/"):a.general&&k(a.error);case 11:return e.prev=11,e.next=14,g.get("/admin-data/",{headers:{"x-access-token":localStorage.getItem("token")}});case 14:n=e.sent,c=n.data,_(c),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),(s=w(e.t1)).general&&k(s.error);case 23:case"end":return e.stop()}}),e,null,[[0,7],[11,19]])})));return function(){return e.apply(this,arguments)}})()()}),[b,B,W]);var z=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.delete("/reservations/".concat(t),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:a=r.filter((function(e,a,n){return e.id!==t})),i(a),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(n=w(e.t0)).general&&k(n.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b-1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Lista de Passageiros"}),Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:N?{display:"block"}:{display:"none"},children:N}),Object(n.jsx)("div",{className:"table-responsive-sm",children:Object(n.jsxs)("table",{className:"table table-responsive-lgcd ap table-sm table-striped table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"P. Ida"}),Object(n.jsx)("th",{scope:"col",children:"P. Volta"}),Object(n.jsx)("th",{scope:"col",children:"Nome"}),Object(n.jsx)("th",{scope:"col",children:"Colo"}),Object(n.jsx)("th",{scope:"col",children:"Respons\xe1vel"}),Object(n.jsx)("th",{scope:"col",children:"Telefone"}),Object(n.jsx)("th",{scope:"col"})]},"0")}),Object(n.jsx)("tbody",{children:r.map((function(e){var t=e.id,a=e.person,c=e.departureSeat,s=e.returnSeat,r=e.lapChild,i=e.user_id,l=a.name,o=a.phone,d=a.responsible,b=o?o.length:0,j=Object(n.jsx)("a",{className:"ms-2",href:"https://api.whatsapp.com/send?phone=55".concat(o),target:"_blank",rel:"noreferrer",children:Object(n.jsx)(U.a,{style:{color:"green"}})});return c||s||r?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:c}),Object(n.jsx)("td",{children:s}),Object(n.jsx)("td",{children:l}),Object(n.jsx)("td",{children:r?"Sim":"N\xe3o"}),Object(n.jsx)("td",{children:d||""}),Object(n.jsxs)("td",{children:[o?"(".concat(e.person.phone.substr(0,2),") ").concat(o.substr(2,10===b?4:5),"-").concat(o.substr(10===b?6:7,4)):"",o?j:""]}),Object(n.jsx)("td",{children:i===M.user_id?Object(n.jsxs)("button",{className:"btn btn-link p-0",onClick:function(){z(t)},children:[Object(n.jsx)(re.a,{})," "]}):""})]},t):""}))})]})}),Object(n.jsx)("nav",{"aria-label":"Page navigation example",children:Object(n.jsxs)("ul",{className:"pagination",children:[Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:q,children:Object(n.jsx)(H.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:X,children:Object(n.jsx)(J.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:Z,children:Object(n.jsx)(Y.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:ee,children:Object(n.jsx)(Q.a,{})})})]})}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsx)(ie.b,{className:"btn btn-primary",document:Object(n.jsx)(oe,{passengers:r,travel:P,departurePlaces:R}),fileName:"lista_viagem_".concat(B,".pdf"),children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?"Carregando PDF...":"Exportar PDF"}}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){W.push("/viagens/".concat(B))},children:"Voltar"})]})]})})]})};var be=function(e){var t=Object(c.useState)(!1),a=Object(O.a)(t,2),r=a[0],i=a[1],o=Object(c.useState)(!1),b=Object(O.a)(o,2),j=b[0],u=b[1],p=Object(c.useState)({}),m=Object(O.a)(p,2),v=m[0],f=m[1],y=Object(c.useState)({}),N=Object(O.a)(y,2),k=N[0],C=N[1],S=Object(c.useState)(""),P=Object(O.a)(S,2),F=P[0],A=P[1],E=Object(d.f)(),R=e.match.params.id,T={headers:{"x-access-token":localStorage.getItem("token")}};Object(c.useEffect)((function(){"novo"!==R&&function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/reservation/".concat(R),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,f(t.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).forbidden?E.push("/"):a.general&&A(a.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[R,E]);var L=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),C({});try{E.push("/onibus")}catch(k){i(!1),(t=w(k)).general?A(t.error):C(t.error)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.prev=1,e.next=4,g.delete("/buses/".concat(R),T);case 4:E.push("/onibus"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(t=w(e.t0)).general?A(t.error):C(t.error);case 11:i(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Cadastro de \xf4nibus"}),Object(n.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:F?{display:"block"}:{display:"none"},children:F}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("label",{htmlFor:"description",className:"form-label",children:"Descri\xe7\xe3o"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.description?"is-invalid":""),id:"description",maxLength:"255",value:v.description||"",onChange:function(e){f(Object(l.a)(Object(l.a)({},v),{},{description:e.target.value}))}}),Object(n.jsx)("div",{id:"validationName",className:"invalid-feedback",style:k.description?{display:"inline"}:{display:"none"},children:k.description})]})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:L,disabled:r,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:r?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==R?{display:"inline-block"}:{display:"none"},onClick:V,disabled:j,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:j?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white mb-4",onClick:function(){E.push("/onibus")},children:"Voltar"})]})]})})]})};var je=function(e){var t=Object(c.useState)([]),a=Object(O.a)(t,2),r=a[0],i=a[1],l=Object(c.useState)(1),o=Object(O.a)(l,2),b=o[0],j=o[1],u=Object(c.useState)(0),p=Object(O.a)(u,2),m=p[0],v=p[1],f=Object(c.useState)(""),y=Object(O.a)(f,2),N=y[0],k=y[1],C=Object(c.useState)({}),S=Object(O.a)(C,2),P=S[0],F=S[1],A=e.match.params.travel_id,E=Object(d.f)();Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/reservations",{headers:{travel_id:A,active:!0,currentPage:b,"x-access-token":localStorage.getItem("token"),list:"payment"}});case 3:200===(t=e.sent).status?(v(t.data.pagination.lastPage),i(t.data.data)):v(1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).forbidden?E.push("/"):a.general&&k(a.error);case 11:return e.prev=11,e.next=14,g.get("/admin-data/",{headers:{"x-access-token":localStorage.getItem("token")}});case 14:n=e.sent,c=n.data,F(c),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),(s=w(e.t1)).general&&k(s.error);case 23:case"end":return e.stop()}}),e,null,[[0,7],[11,19]])})));return function(){return e.apply(this,arguments)}})()()}),[b,A,E]);var R=function(){var e=Object(x.a)(h.a.mark((function e(t,a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E.push("/viagens/".concat(A,"/pagamentos/").concat(t),{name:a});case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b-1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Lista de Pagamentos"}),Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:N?{display:"block"}:{display:"none"},children:N}),Object(n.jsx)("div",{className:"table-responsive-sm",children:Object(n.jsxs)("table",{className:"table table-responsive-lgcd ap table-sm table-striped table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Nome"}),Object(n.jsx)("th",{scope:"col",children:"Data Reserva"}),Object(n.jsx)("th",{scope:"col",children:"Telefone"}),Object(n.jsx)("th",{scope:"col",children:"Valor"}),Object(n.jsx)("th",{scope:"col",children:"Status"}),Object(n.jsx)("th",{scope:"col",children:"A\xe7\xf5es"})]},"0")}),Object(n.jsx)("tbody",{children:r.map((function(e){var t=e.id,a=e.person,c=e.datetime,s=e.status,r=e.total,i=a.name,l=a.phone,o=a.type,d=B(s),b=l?l.length:0,j=Object(n.jsx)("a",{className:"ms-2",href:"https://api.whatsapp.com/send?phone=55".concat(l),target:"_blank",rel:"noreferrer",children:Object(n.jsx)(U.a,{style:{color:"green"}})});return a.id!==P.user_id&&o?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:i}),Object(n.jsx)("td",{children:L(c)}),Object(n.jsxs)("td",{children:[l?"(".concat(e.person.phone.substr(0,2),") ").concat(l.substr(2,10===b?4:5),"-").concat(l.substr(10===b?6:7,4)):"",l?j:""]}),Object(n.jsx)("td",{children:"R$ ".concat(r.replace(".",","))}),Object(n.jsx)("td",{children:Object(n.jsx)("strong",{className:d.color,children:d.translated})}),Object(n.jsx)("td",{children:Object(n.jsxs)("button",{className:"btn btn-link p-0",onClick:function(){R(t,i)},children:[Object(n.jsx)(q.a,{})," "]})})]},t):""}))})]})}),Object(n.jsx)("nav",{"aria-label":"Page navigation example",children:Object(n.jsxs)("ul",{className:"pagination",children:[Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:T,children:Object(n.jsx)(H.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:V,children:Object(n.jsx)(J.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:M,children:Object(n.jsx)(Y.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:_,children:Object(n.jsx)(Q.a,{})})})]})}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary text-white",onClick:function(){E.push("/viagens/".concat(A,"/reservas-inativas"))},children:"Reservas Exclu\xeddas"}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){E.push("/viagens/".concat(A))},children:"Voltar"})]})]})})]})};var ue=function(e){var t=Object(c.useState)(!1),a=Object(O.a)(t,2),r=a[0],i=a[1],o=Object(c.useState)(!1),b=Object(O.a)(o,2),j=b[0],u=b[1],p=Object(c.useState)({}),m=Object(O.a)(p,2),v=m[0],f=m[1],y=Object(c.useState)(""),N=Object(O.a)(y,2),k=N[0],C=N[1],S=Object(c.useState)(""),P=Object(O.a)(S,2),F=P[0],A=P[1],E=Object(c.useState)(""),R=Object(O.a)(E,2),T=R[0],L=R[1],V=Object(d.f)(),M=e.match.params.id,_=e.location.state.name,B={headers:{"x-access-token":localStorage.getItem("token")}};Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/reservations/".concat(M),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,a=t.data,n="1"===a.status?"1":"2"===a.status?"2":"3"===a.status?"1":"4"===a.status?"2":"5"===a.status?"1":"6"===a.status?"2":a.status,a.status=n,A(a),L(t.data.status),console.log(t.data),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),(c=w(e.t0)).forbidden?V.push("/"):c.general&&C(c.error);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}})()()}),[M,V]);var G=function(){var t=Object(x.a)(h.a.mark((function t(){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.prev=1,t.next=4,g.put("/reservations/".concat(M),{active:!1},B);case 4:e.history.goBack(),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(1),(a=w(t.t0)).general?C(a.error):f(a.error);case 11:u(!1);case 12:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(x.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),f({}),a="1"===F.status&&"1"===T||"1"===F.status&&"2"===T?"1":"1"===F.status&&"3"===T||"1"===F.status&&"4"===T?"3":"1"===F.status&&"5"===T||"1"===F.status&&"6"===T?"5":"2"===F.status&&"1"===T||"2"===F.status&&"2"===T?"2":"2"===F.status&&"3"===T||"2"===F.status&&"4"===T?"4":"2"===F.status&&"5"===T||"2"===F.status&&"6"===T?"6":"",t.prev=3,t.next=6,g.put("/reservations/".concat(M),{status:a},B);case 6:e.history.goBack(),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(3),i(!1),(n=w(t.t0)).general?C(n.error):f(n.error);case 14:case"end":return t.stop()}}),t,null,[[3,9]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Altera\xe7\xe3o do Status de Pagamento"}),Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:k?{display:"block"}:{display:"none"},children:k}),Object(n.jsx)("h6",{children:_}),Object(n.jsx)("form",{className:"row g-3 mt-1 mb-4",style:["1","2","3","4","5","6"].includes(T)?{display:"block"}:{display:"none"},children:Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"status",className:"form-label",children:"Status"}),Object(n.jsxs)("select",{className:"form-select ".concat(v.status?"is-invalid":""),id:"status",value:F.status||"",onChange:function(e){A(Object(l.a)(Object(l.a)({},F),{},{status:e.target.value}))},children:[Object(n.jsx)("option",{value:"1",children:"Esperando"}),Object(n.jsx)("option",{value:"2",children:"Recebido"})]}),Object(n.jsx)("div",{id:"validationStatus",className:"invalid-feedback",style:v.status?{display:"inline"}:{display:"none"},children:v.status})]})}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:K,disabled:r,style:["1","2","3","4","5","6"].includes(T)?{display:"block"}:{display:"none"},children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:r?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:G,disabled:r,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:j?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white mb-4",onClick:function(){e.history.goBack()},children:"Voltar"})]})]})})]})};var pe=function(e){var t=Object(c.useState)([]),a=Object(O.a)(t,2),r=a[0],i=a[1],l=Object(c.useState)(1),o=Object(O.a)(l,2),b=o[0],j=o[1],u=Object(c.useState)(0),p=Object(O.a)(u,2),m=p[0],v=p[1],f=Object(c.useState)(""),y=Object(O.a)(f,2),N=y[0],k=y[1],C=Object(c.useState)({}),S=Object(O.a)(C,2),P=S[0],F=S[1],A=e.match.params.travel_id,E=Object(d.f)();Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/reservations",{headers:{travel_id:A,active:!1,currentPage:b,"x-access-token":localStorage.getItem("token"),list:"payment"}});case 3:200===(t=e.sent).status?(v(t.data.pagination.lastPage),i(t.data.data)):v(1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).forbidden?E.push("/"):a.general&&k(a.error);case 11:return e.prev=11,e.next=14,g.get("/admin-data/",{headers:{"x-access-token":localStorage.getItem("token")}});case 14:n=e.sent,c=n.data,F(c),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),(s=w(e.t1)).general&&k(s.error);case 23:case"end":return e.stop()}}),e,null,[[0,7],[11,19]])})));return function(){return e.apply(this,arguments)}})()()}),[b,A,E]);var R=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b-1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(b+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(x.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(m);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Reservas Exclu\xeddas"}),Object(n.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:N?{display:"block"}:{display:"none"},children:N}),Object(n.jsx)("div",{className:"table-responsive-sm",children:Object(n.jsxs)("table",{className:"table table-responsive-lgcd ap table-sm table-striped table-hover",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Nome"}),Object(n.jsx)("th",{scope:"col",children:"Data Reserva"}),Object(n.jsx)("th",{scope:"col",children:"Telefone"}),Object(n.jsx)("th",{scope:"col",children:"Valor"})]},"0")}),Object(n.jsx)("tbody",{children:r.map((function(e){var t=e.id,a=e.person,c=e.datetime,s=e.value,r=a.name,i=a.phone,l=a.type,o=i?i.length:0,d=Object(n.jsx)("a",{className:"ms-2",href:"https://api.whatsapp.com/send?phone=55".concat(i),target:"_blank",rel:"noreferrer",children:Object(n.jsx)(U.a,{style:{color:"green"}})});return a.id!==P.user_id&&l?Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:L(c)}),Object(n.jsxs)("td",{children:[i?"(".concat(e.person.phone.substr(0,2),") ").concat(i.substr(2,10===o?4:5),"-").concat(i.substr(10===o?6:7,4)):"",i?d:""]}),Object(n.jsx)("td",{children:"R$ ".concat(s.replace(".",","))})]},t):""}))})]})}),Object(n.jsx)("nav",{"aria-label":"Page navigation example",children:Object(n.jsxs)("ul",{className:"pagination",children:[Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:R,children:Object(n.jsx)(H.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===b,onClick:T,children:Object(n.jsx)(J.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:V,children:Object(n.jsx)(Y.a,{})})}),Object(n.jsx)("li",{className:"page-item",children:Object(n.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:b===m,onClick:M,children:Object(n.jsx)(Q.a,{})})})]})}),Object(n.jsx)("div",{className:"text-center d-grid gap-2",children:Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){E.push("/viagens/".concat(A))},children:"Voltar"})})]})})]})},me=a(511);var he=function(e){var t=Object(c.useState)(""),a=Object(O.a)(t,2),r=a[0],i=a[1],b=Object(c.useState)(!1),j=Object(O.a)(b,2),u=j[0],m=j[1],v=Object(c.useState)([]),f=Object(O.a)(v,2),y=f[0],N=f[1],k=Object(c.useState)([]),C=Object(O.a)(k,2),S=C[0],P=C[1],F=Object(c.useState)(!1),A=Object(O.a)(F,2),E=A[0],T=A[1],B=Object(c.useState)(!1),G=Object(O.a)(B,2),K=G[0],$=G[1],z=Object(c.useState)({name:"",document:"",documentType:"",value:"0.00"}),U=Object(O.a)(z,2),q=U[0],H=U[1],J=Object(c.useState)([]),Y=Object(O.a)(J,2),Q=Y[0],X=Y[1],Z=Object(c.useState)("normal"),ee=Object(O.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(),ce=Object(O.a)(ne,2),se=ce[0],re=ce[1],ie=Object(c.useState)("0.00"),le=Object(O.a)(ie,2),oe=le[0],de=le[1],be=Object(c.useState)(1),je=Object(O.a)(be,2),ue=je[0],pe=je[1],he=Object(c.useState)([]),xe=Object(O.a)(he,2),Oe=xe[0],ve=xe[1],fe=Object(c.useState)(!1),ye=Object(O.a)(fe,2),ge=ye[0],Ne=ye[1],ke=Object(c.useState)([{person:{},seats:[],departurePosition:"",returnPosition:""}]),we=Object(O.a)(ke,2),Ce=we[0],Se=we[1],Pe=Object(c.useState)(0),Fe=Object(O.a)(Pe,2),Ae=Fe[0],De=Fe[1],Ie=Object(c.useState)({departureSelected:0,returnSelected:0}),Ee=Object(O.a)(Ie,2),Re=Ee[0],Te=Ee[1],Le=Object(c.useState)({departure:[],return:[]}),Ve=Object(O.a)(Le,2),Me=Ve[0],_e=Ve[1],Be=Object(c.useState)({}),Ge=Object(O.a)(Be,2),Ke=Ge[0],$e=Ge[1],We=Object(c.useState)(null),ze=Object(O.a)(We,2),Ue=ze[0],qe=ze[1],He=Object(c.useState)(),Je=Object(O.a)(He,2),Ye=Je[0],Qe=Je[1],Xe=Object(c.useState)(),Ze=Object(O.a)(Xe,2),et=Ze[0],tt=Ze[1],at=Object(c.useState)(),nt=Object(O.a)(at,2),ct=nt[0],st=nt[1],rt=e.match.params,it=rt.travel_id,lt=rt.random,ot=Object(d.f)(),dt=function(){i(""),m(!1),N([]),P([]),T(!1),$(!1),H({name:"",document:"",documentType:"",value:"0.00"}),X([]),ae("normal"),re(),de("0.00"),ve([]),Ne(!1),Se([{person:{},seats:[],departurePosition:"",returnPosition:""}]),De(0),Te({departureSelected:0,returnSelected:0}),_e({departure:[],return:[]}),$e({}),qe(null),Qe(null),tt(null),st(null)};Object(c.useEffect)((function(){pe(1)}),[lt]),Object(c.useEffect)((function(){dt(),function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/travels/".concat(it),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,a=t.data,Ne(a.controlsSeats),N(a.values),P(a.departurePlaces),Qe(a.notes),tt(a.description),st(a.departurePayment),a.controlsSeats&&ve(a.seats),re(a.departurePlaces[0].id),a.values.forEach((function(e){99===e.finalAge&&(e.onlyDepartureValue>0&&T(!0),e.onlyReturnValue>0&&$(!0))})),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),(n=w(e.t0)).general&&i(n.error);case 20:return e.prev=20,e.next=23,g.get("/admin-data/",{headers:{"x-access-token":localStorage.getItem("token")}});case 23:c=e.sent,s=c.data,$e(s),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(20),(r=w(e.t1)).general&&i(r.error);case 32:case"end":return e.stop()}}),e,null,[[0,16],[20,28]])})));return function(){return e.apply(this,arguments)}}()()}),[it]),Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/users/".concat(p()),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,(a=t.data).birth=L(a.birth).substr(0,10),a.age=M(a.birth),a.value=_(y,a.age,te,!1).value,H(a),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),(n=w(e.t0)).general&&i(n.error);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}})()()}),[te,y]),Object(c.useEffect)((function(){var e=Q.reduce((function(e,t){return e+Number(t.value)}),0);e+="regular"===q.type?Number(q.value):0,de(e.toFixed(2))}),[Q,q]);var bt=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c,s,r,l,o,d,b,j,u,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1===ue)if(ge){t=[],a=Q.slice(0),n=!1,c=0,X(a),"admin"!==q.type&&(t.push({index:0,person:q,seats:Oe.slice(0),departurePosition:"",returnPosition:""}),c++),s=Object(R.a)(Q.entries());try{for(s.s();!(r=s.n()).done;)l=Object(O.a)(r.value,2),o=l[0],(d=l[1]).name||(a[o].error={name:"O Nome \xe9 obrigat\xf3rio"},n=!0),d.birth||(a[o].error={birth:"A Data de Nascimento \xe9 obrigat\xf3ria"},n=!0),d.document||(a[o].error={document:"O Documento \xe9 obrigat\xf3rio"},n=!0),n||("admin"!==q.type&&o++,t.push({index:o,person:d,seats:Oe.slice(0),departurePosition:"",returnPosition:""})),c++}catch(m){s.e(m)}finally{s.f()}n||(Se(t),i(""),c?pe(2):i("Insira ao menos um passageiro"))}else pe(3);if(2!==ue){e.next=29;break}i(""),b=!0,j=Object(R.a)(Ce),e.prev=5,j.s();case 7:if((u=j.n()).done){e.next=20;break}if((p=u.value).person.lapChild){e.next=18;break}if(p.departureSeat||"normal"!==te&&"departure"!==te){e.next=14;break}return i("Selecione todas as suas poltronas"),b=!1,e.abrupt("break",20);case 14:if(p.returnSeat||"normal"!==te&&"return"!==te){e.next=18;break}return i("Selecione todas as suas poltronas"),b=!1,e.abrupt("break",20);case 18:e.next=7;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e.catch(5),j.e(e.t0);case 25:return e.prev=25,j.f(),e.finish(25);case 28:b&&("admin"===q.type?(ut("admin"),ot.push("/")):Ke.mercadoPago&&Ot(),pe(3));case 29:case"end":return e.stop()}}),e,null,[[5,22,25,28]])})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e=Object(x.a)(h.a.mark((function e(t,a,n){var c,s,r,l;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"x-access-token":localStorage.getItem("token")}},e.prev=1,e.next=4,g.put("/reservations/".concat(a),{status:t},c);case 4:if("admin"===q.type){e.next=14;break}return e.prev=5,e.next=8,g.post("/reservations-email",{},{headers:{"x-access-token":localStorage.getItem("token"),email:!0,user_id:q.id,datetime:n}});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(5),(s=w(e.t0)).general&&i(s.error);case 14:e.next=20;break;case 16:e.prev=16,e.t1=e.catch(1),(r=w(e.t1)).general?i(r.error):(l="",Object.entries(e.t1.response.data).forEach((function(e){var t=Object(O.a)(e,2),a=(t[0],t[1]);l+="".concat(a," | ")})),l=l.substr(0,l.length-3),i(l));case 20:case"end":return e.stop()}}),e,null,[[1,16],[5,10]])})));return function(t,a,n){return e.apply(this,arguments)}}(),ut=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,n,c,s,r,o,d,b,j,u,p,x,v,f,y,N,k,C,S,P,F,A,D,I,E,T,L,M,_,B;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),i(""),a={headers:{"x-access-token":localStorage.getItem("token")}},!Ue){e.next=6;break}return e.next=6,g.delete("/reservations/".concat(Ue.id),a);case 6:n=V(new Date),qe(Object(l.a)(Object(l.a)({},Ue),{},{datetime:n})),c=0,s=0,r=Object(R.a)(Ce),e.prev=11,r.s();case 13:if((o=r.n()).done){e.next=21;break}if(!(d=o.value).person.type){e.next=19;break}return c=d.returnSeat,s=d.departureSeat,e.abrupt("break",21);case 19:e.next=13;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(11),r.e(e.t0);case 26:return e.prev=26,r.f(),e.finish(26);case 29:return b=0,e.prev=30,e.next=33,g.post("/reservations",{travel_id:Number(it),user_id:q.id,departureSeat:s,datetime:n,returnSeat:c,value:Number(q.value),status:t,travelType:te,departurePlace_id:se,lapChild:!1,active:!0},a);case 33:j=e.sent,b=j.data.id,qe(Object(l.a)(Object(l.a)({},Ue),{},{id:b})),e.next=42;break;case 38:e.prev=38,e.t1=e.catch(30),(u=w(e.t1)).general?i(u.error):(p="",Object.entries(e.t1.response.data).forEach((function(e){var t=Object(O.a)(e,2),a=(t[0],t[1]);p+="".concat(a," | ")})),p=p.substr(0,p.length-3),i(p));case 42:x=Object(R.a)(Q.entries()),e.prev=43,x.s();case 45:if((v=x.n()).done){e.next=79;break}return f=Object(O.a)(v.value,2),y=f[0],N=f[1],(k=Q.slice(0))[y].error={},X(k),e.prev=50,C=N.name,S=N.documentType,P=N.birth,F=N.document,A=N.value,D=N.lapChild,I=P.split("/"),P="".concat(I[2],"-").concat(I[1],"-").concat(I[0]),e.next=56,g.post("/dependents",{name:C,documentType:S,document:F,birth:P},a);case 56:if(E=e.sent,T=y,"admin"!==q.type&&T++,c=D?0:Ce[T].returnSeat,s=D?0:Ce[T].departureSeat,201!==E.status){e.next=71;break}return e.prev=62,e.next=65,g.post("/reservations",{travel_id:Number(it),user_id:q.id,dependent_id:E.data.id,datetime:n,departureSeat:s,returnSeat:c,value:Number(A),status:"dependent",travelType:te,departurePlace_id:se,lapChild:!!D,active:!0},a);case 65:e.next=71;break;case 67:e.prev=67,e.t2=e.catch(62),(L=w(e.t2)).general?i(L.error):(M="",Object.entries(e.t2.response.data).forEach((function(e){var t=Object(O.a)(e,2),a=(t[0],t[1]);M+="".concat(a," | ")})),M=M.substr(0,M.length-3),i(M));case 71:e.next=77;break;case 73:e.prev=73,e.t3=e.catch(50),(_=w(e.t3)).general?i(_.error):(i("Corrija as informa\xe7\xf5es inv\xe1lidas"),(B=Q.slice(0))[y].error=_.error,X(B));case 77:e.next=45;break;case 79:e.next=84;break;case 81:e.prev=81,e.t4=e.catch(43),x.e(e.t4);case 84:return e.prev=84,x.f(),e.finish(84);case 87:return m(!1),e.abrupt("return",{id:b,datetime:n});case 89:case"end":return e.stop()}}),e,null,[[11,23,26,29],[30,38],[43,81,84,87],[50,73],[62,67]])})));return function(t){return e.apply(this,arguments)}}(),pt=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,Ke.mercadoPago){e.next=5;break}return e.next=4,ut("5");case 4:t=e.sent;case 5:return e.next=7,jt("5",Ue?Ue.id:t.id,Ue?Ue.datetime:t.datetime);case 7:a=Ke.companyPaymentLink.replace("email@email.com",q.email).replace("@numeroreserva",Ue.id||0).replace("@nome",q.name).replace("@cpf",q.cpf).replace("@documento",q.document).replace("@valor",oe.toString().replace(".",",")),window.open(a,"_blank"),pe(4),dt();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mt=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,Ke.mercadoPago){e.next=5;break}return e.next=4,ut("1");case 4:t=e.sent;case 5:return e.next=7,jt("1",Ue?Ue.id:t.id,Ue?Ue.datetime:t.datetime);case 7:pe(4),dt();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ht=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,Ke.mercadoPago){e.next=5;break}return e.next=4,ut("7");case 4:t=e.sent;case 5:return e.next=7,jt("7",Ue?Ue.id:t.id,Ue?Ue.datetime:t.datetime);case 7:pe(4),dt();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=null,Ke.mercadoPago){e.next=5;break}return e.next=4,ut("3");case 4:t=e.sent;case 5:return e.next=7,jt("3",Ue?Ue.id:t.id,Ue?Ue.datetime:t.datetime);case 7:a="https://pay.infinitepay.io/".concat(Ke.infinitePayUser,"/").concat(oe.replace(".",",")),window.open(a,"_blank"),pe(4),dt();case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ot=function(){var e=Object(x.a)(h.a.mark((function e(){var t,a,n,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ut("created");case 2:return t=e.sent,qe(Object(l.a)(Object(l.a)({},Ue),{},{id:t})),e.prev=4,e.next=7,g.post("/reservations/payment/mercadopago/".concat(q.id,"/").concat(t),{description:et,total:oe},{headers:{"x-access-token":localStorage.getItem("token")}});case 7:a=e.sent,(n=document.createElement("script")).src="https://www.mercadopago.com.br/integrations/v1/web-payment-checkout.js",n.dataset.preferenceId=a.data.id,document.querySelector("#mercadoPago").appendChild(n),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),(c=w(e.t0)).general&&i(c.error);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(t=Q.slice(0)).push({name:"",document:"",documentType:"RG",birth:"",error:{},value:"0.00",optionLapChild:!1}),X(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ft=function(){var e=Object(x.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(a=Q.slice(0)).splice(t,1),X(a);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yt=function(e){return Object(n.jsxs)("div",{className:"form-check",children:[Object(n.jsx)("input",{className:"form-check-input",type:"radio",name:"radioTravelType",id:"radio".concat(e),value:e,onChange:function(e){ae(e.target.value)}}),Object(n.jsx)("label",{className:"form-check-label",htmlFor:"radioDeparture",children:"departure"===e?"S\xf3 Ida":"S\xf3 Volta"})]})};Object(c.useEffect)((function(){var e=0,t=0,a=[],n=[],c=1===Ce.length?1:Math.ceil(Ce.length/2);De(c);var s,r=Object(R.a)(Ce);try{for(r.s();!(s=r.n()).done;){var i=s.value;-1!==i.departurePosition.indexOf("window")&&(e+=1),-1!==i.returnPosition.indexOf("window")&&(t+=1),i.departureSeat&&a.push(i.departureSeat),i.returnSeat&&n.push(i.returnSeat)}}catch(l){r.e(l)}finally{r.f()}Te({departureSelected:e,returnSelected:t}),_e({departure:a,return:n})}),[Ce]);var gt,Nt=function(e,t){return Object(n.jsxs)("div",{className:"col-lg-2",children:[Object(n.jsxs)("select",{type:"text",className:"form-select form-select-sm ".concat(e.error.lapChild?"is-invalid":""),value:Q[t].lapChild||!1,onChange:function(e){var a=Q.slice(0);a[t].lapChild="true"===e.target.value,X(a),function(e){var t=Q[e],a=t.age,n=t.lapChild,c=_(y,a,te,n).value,s=Q.slice(0);s[e].value=c,X(s)}(t)},children:[Object(n.jsx)("option",{value:!0,children:"Vai no Colo"}),Object(n.jsx)("option",{value:!1,children:"Vai em Poltrona"})]}),Object(n.jsx)("div",{id:"validationLapChild",className:"invalid-feedback",style:e.error.lapChild?{display:"inline"}:{display:"none"},children:e.error.lapChild})]})},kt=Object(n.jsxs)("form",{id:"reservationDetails",className:"row g-3 mt-1 mb-3",children:[Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("h6",{children:"Detalhes"}),Object(n.jsx)("div",{children:Ye})]}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("h6",{children:"Tipo de viagem"}),Object(n.jsxs)("div",{className:"form-check",children:[Object(n.jsx)("input",{className:"form-check-input",type:"radio",name:"radioTravelType",id:"radioDepartureReturn",value:"normal",onChange:function(e){ae(e.target.value)},defaultChecked:!0,disabled:!E&&!K}),Object(n.jsx)("label",{className:"form-check-label",htmlFor:"radioDepartureReturn",children:"Ida e Volta"})]}),E?yt("departure"):"",K?yt("return"):""]}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("h6",{children:"Escolha o ponto de sa\xedda / retorno"}),S.map((function(e,t){var a=e.id,c=e.departureDate,s=e.returnDate,r=e.city,i=e.homeAddress,l=e.addressNumber,o=e.state;return Object(n.jsxs)("div",{className:"form-check",children:[Object(n.jsx)("input",{className:"form-check-input",type:"radio",name:"radioPlace",id:"radioPlace".concat(a),defaultChecked:0===t,disabled:1===S.length,value:a,onChange:function(e){re(e.target.value)}}),Object(n.jsxs)("label",{className:"form-check-label",htmlFor:"radioPlace".concat(a),children:["".concat(i,", ").concat(l,", ").concat(r,"-").concat(o),Object(n.jsx)("br",{}),"".concat(L(c)," - ").concat(L(s))]})]},a)}))]}),Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("h6",{children:"Passageiros"}),Object(n.jsx)("span",{className:"".concat("admin"===q.type?"d-none":"d-block"," mb-1"),children:"".concat(q.name," - ").concat(q.documentType," ").concat(q.document)}),Object(n.jsx)("span",{className:"".concat("admin"===q.type?"d-none":"d-block"," mb-2"),children:"R$ ".concat(q.value.toString().replace(".",","))}),Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:vt,children:"Adicionar Passageiro"}),Q.map((function(e,t){return Object(n.jsxs)("div",{className:"row g-3 ".concat(0===t?"mt-1":""),children:[Object(n.jsxs)("div",{className:"col-lg-4",children:[Object(n.jsxs)("div",{className:"d-flex",children:[Object(n.jsx)(o.b,{onClick:function(){ft(t)},to:"#",children:Object(n.jsx)(me.a,{className:"icon me-2",size:30})}),Object(n.jsx)("input",{type:"text",className:"form-control form-control-sm ".concat(e.error.dependentName?"is-invalid":""),maxLength:"255",placeholder:"Nome",value:Q[t].name||"",onChange:function(e){var a=Q.slice(0);a[t].name=e.target.value,X(a)}})]}),Object(n.jsx)("div",{id:"validationName",className:"invalid-feedback",style:e.error.dependentName?{display:"inline"}:{display:"none"},children:e.error.dependentName})]}),Object(n.jsxs)("div",{className:"col-lg-2",children:[Object(n.jsx)(W.a,{mask:"99/99/9999",className:"form-control form-control-sm ".concat(e.error.birth?"is-invalid":""),placeholder:"Nascimento",value:Q[t].birth||"",onBlur:function(){return function(e){try{var t=Q[e].birth,a=M(t),n=_(y,a,te,!1),c=n.value,s=n.optionLapChild,r=Q.slice(0);r[e].age=a,r[e].optionLapChild=s,r[e].value=c,X(r)}catch(o){var i=Q.slice(0),l=o.message;i[e].error={birth:l},X(i)}}(t)},onChange:function(e){var a=Q.slice(0);a[t].birth=e.target.value,X(a)},children:function(e){return Object(n.jsx)("input",Object(l.a)(Object(l.a)({},e),{},{type:"tel"}))}}),Object(n.jsx)("div",{id:"validationBirth",className:"invalid-feedback",style:e.error.birth?{display:"inline"}:{display:"none"},children:e.error.birth})]}),e.optionLapChild?Nt(e,t):"",Object(n.jsxs)("div",{className:"col-lg-2",children:[Object(n.jsxs)("select",{type:"text",className:"form-select form-select-sm ".concat(e.error.documentType?"is-invalid":""),value:Q[t].documentType||"",onChange:function(e){var a=Q.slice(0);a[t].documentType=e.target.value,X(a)},children:[Object(n.jsx)("option",{value:"RG",children:"RG"}),Object(n.jsx)("option",{value:"CNH",children:"CNH"}),Object(n.jsx)("option",{value:"CN",children:"C. Nascimento"})]}),Object(n.jsx)("div",{id:"validationDocumentType",className:"invalid-feedback",style:e.error.documentType?{display:"inline"}:{display:"none"},children:e.error.documentType})]}),Object(n.jsxs)("div",{className:"col-lg-2",children:[Object(n.jsx)("input",{type:"text",className:"form-control form-control-sm ".concat(e.error.document?"is-invalid":""),maxLength:"32",placeholder:"Documento",value:Q[t].document||"",onChange:function(e){var a=Q.slice(0);a[t].document=e.target.value,X(a)}}),Object(n.jsx)("div",{id:"validationDocument",className:"invalid-feedback",style:e.error.document?{display:"inline"}:{display:"none"},children:e.error.document})]}),Object(n.jsx)("span",{className:"d-block value-span",children:"R$ ".concat(e.value.toString().replace(".",","))}),Object(n.jsx)("hr",{className:"value-separator ".concat(t+1===Q.length?"d-none":"")})]},t)}))]})]}),wt=function(e,t){var a=e.person,c=e.departureSeat,s=e.returnSeat,r=e.departurePosition,i=e.returnPosition,l=a.name;return Object(n.jsxs)("div",{className:"col",children:[Object(n.jsx)("span",{children:"".concat(l," - ").concat("departure"===t?"Ida":"Volta")}),Object(n.jsx)("div",{className:"m-0 row row-cols-5 mt-1",children:e.seats.map((function(a,l){var o=a.seat,d=a.position,b=a.departureAvailable,j=a.returnAvailable,u=!1,p="btn-primary",m="corridorRight"===d?"ms-3 m-1":"windowLeft"!==d&&d?"m-1":"windowLeft";"departure"===t?c===o?p="btn-warning text-white":(!b||Me.departure.includes(o)||-1!==d.indexOf("window")&&-1===r.indexOf("window")&&Ae<=Re.departureSelected)&&(u=!0):s===o?p="btn-warning text-white":(!j||Me.return.includes(o)||-1!==d.indexOf("window")&&-1===i.indexOf("window")&&Ae<=Re.returnSelected)&&(u=!0);var h="btn btn-sm mb-1 ".concat(m," ").concat(p);return o?Object(n.jsx)("button",{type:"button",onClick:function(){return function(e,t,a,n){var c=e.index,s=Ce.slice(0);"departure"===t?(s[c].departureSeat=a,s[c].departurePosition=n):(s[c].returnSeat=a,s[c].returnPosition=n),Se(s)}(e,t,o,d)},disabled:u,className:h,children:o},l):Object(n.jsx)("div",{className:m})}))}),Object(n.jsx)("hr",{})]})},Ct=Object(n.jsxs)("form",{id:"seatsChoice",className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("h6",{children:"Escolha de Poltronas"}),Object(n.jsx)("div",{className:"row mt-0 g-3 row-cols-1 row-cols-md-1 row-cols-lg-2",children:Ce.map((function(e){return e.person.lapChild?"":"normal"===te?["departure","return"].map((function(t){return wt(e,t)})):[te].map((function(t){return wt(e,t)}))}))})]}),St=Object(n.jsxs)("div",{id:"payment",className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("h6",{children:"Pagamento"}),Object(n.jsx)("span",{children:"Sua reserva foi salva!"}),Object(n.jsxs)("div",{className:"col-md-12 ".concat(ct?"":"d-none"),children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mb-2",onClick:ht,children:"Pagamento no Embarque"}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:"Ao escolher esta op\xe7\xe3o voc\xea ficar\xe1 respons\xe1vel por pagar o valor total na hora do embarque no \xf4nibus"})]}),Object(n.jsxs)("div",{className:"col-md-12 ".concat(Ke.pix?"":"d-none"),children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mb-2","data-bs-toggle":"modal","data-bs-target":"#pixModal",children:"Pagamento por Pix"}),Object(n.jsx)("br",{})]}),Object(n.jsx)("div",{class:"modal fade",id:"pixModal",tabindex:"-1","aria-labelledby":"pixModalLabel","aria-hidden":"true",children:Object(n.jsx)("div",{class:"modal-dialog",children:Object(n.jsxs)("div",{class:"modal-content",children:[Object(n.jsxs)("div",{class:"modal-header",children:[Object(n.jsx)("h5",{class:"modal-title",id:"pixModalLabel",children:"Pix"}),Object(n.jsx)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(n.jsxs)("div",{class:"modal-body",children:["Chave Pix: ",(gt=Ke.pixKeyType,"email"===gt?"Email":"phone"===gt?"Telefone":"cpf"===gt?"CPF":"")," - ",Ke.pixKey,Object(n.jsx)("br",{}),"Valor Total: R$ ",oe.replace(".",",")]}),Object(n.jsx)("div",{class:"modal-footer",children:Object(n.jsx)("button",{type:"button",class:"btn btn-primary","data-bs-dismiss":"modal",onClick:mt,children:"Confirmar"})})]})})}),Object(n.jsxs)("div",{className:"col-md-12 ".concat(Ke.companyPayment?"":"d-none"),children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mb-2",onClick:pt,children:"Pagamento Direto com a Empresa"}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("div",{className:"col-md-12 ".concat(Ke.infinitePay?"":"d-none"),children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary mb-2",onClick:xt,children:"Pagamento pelo InfinitePay"}),Object(n.jsx)("br",{})]}),Object(n.jsxs)("div",{className:"col-md-12 ".concat(Ke.mercadoPago?"":"d-none"),children:[Object(n.jsx)("div",{id:"mercadoPago"}),Object(n.jsx)("span",{children:"Espere at\xe9 que apare\xe7a um bot\xe3o acima, ao clicar nele ser\xe1 aberta uma tela externa ao aplivativo para seguir com o pagamento pelo MercadoPago"})]})]}),Pt=Object(n.jsx)("form",{id:"payment",className:"row g-3 mt-1 mb-4",children:Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("h5",{children:'Voc\xea receber\xe1 um email quando seu pagamento for confirmado, voc\xea tambem poder\xe1 sempre revisar todas as informa\xe7\xf5es sobre a reserva pelo menu "Minhas Reservas"'}),Object(n.jsx)("h6",{children:"Caso queira falar conosco utilize o bot\xe3o WhatsApp abaixo"})]})});return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("h5",{children:"Reserva"}),1===ue?kt:"",2===ue?Ct:"",3===ue?St:"",4===ue?Pt:"",Object(n.jsx)("span",{className:"".concat(4===ue?"d-none":"d-block"," fs-5 mb-3"),children:"Total R$ ".concat(oe.toString().replace(".",","))}),Object(n.jsx)("div",{className:"alert text-center alert-dismissible alert-danger fade show",role:"alert",style:r?{display:"block"}:{display:"none"},children:r}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary ".concat(3===ue||4===ue?"d-none":""),onClick:bt,disabled:u,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:u?{display:"inline-block"}:{display:"none"}}),"Continuar"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){1!==ue&&4!==ue||ot.push("/"),2===ue&&pe(1),3===ue&&pe(ge?2:1)},children:"Voltar"})]})]})})]})};var xe=function(e){var t=Object(c.useState)(""),a=Object(O.a)(t,2),r=a[0],i=a[1],l=e.match.params,o=l.status,b=l.id;Object(c.useEffect)((function(){"failure"!==o&&u(b)}),[o,b]);var j=Object(d.f)(),u=function(){var e=Object(x.a)(h.a.mark((function e(t){var a,n,c,s,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"x-access-token":localStorage.getItem("token")}},e.prev=1,e.next=4,g.get("/reservations/".concat(t),a);case 4:return n=e.sent,c=n.data,e.next=8,g.post("/reservations-email",{},{headers:{"x-access-token":localStorage.getItem("token"),email:!0,user_id:c.user_id,datetime:c.datetime}});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),(s=w(e.t0)).general?i(s.error):(r="",Object.entries(e.t0.response.data).forEach((function(e){var t=Object(O.a)(e,2),a=(t[0],t[1]);r+="".concat(a," | ")})),r=r.substr(0,r.length-3),i(r));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),Object(n.jsx)("div",{className:"alert text-center alert-dismissible alert-danger fade show",role:"alert",style:r?{display:"block"}:{display:"none"},children:r}),Object(n.jsx)("h5",{children:"Reserva"}),Object(n.jsx)("br",{}),"success"===o?Object(n.jsx)("h6",{children:"Pagamento efetuado com sucesso!"}):"","failure"===o?Object(n.jsx)("h6",{children:"O pagamento pagamento falhou, se desejar fa\xe7a outra reserva e tente novamente!"}):"","pending"===o?Object(n.jsx)("h6",{children:"O pagamento est\xe1 pendente, voc\xea dever\xe1 receber um email quando for aprovado!"}):"",Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){j.push("/")},children:"Voltar"})]})})]})},Oe=a(512);var ve=function(){var e=Object(c.useState)([]),t=Object(O.a)(e,2),a=t[0],r=t[1],i=Object(c.useState)(""),l=Object(O.a)(i,2),o=l[0],d=l[1];return Object(c.useEffect)((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.get("/reservations",{headers:{user_id:p(),"x-access-token":localStorage.getItem("token")}});case 3:200===(t=e.sent).status&&r(t.data.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=w(e.t0)).general&&d(a.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)(D,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(I,{}),a?Object(n.jsx)("h5",{children:"Minhas Reservas"}):Object(n.jsx)("h1",{children:"Voc\xea n\xe3o fez nenhuma reserva!"}),Object(n.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:o?{display:"block"}:{display:"none"},children:o}),Object(n.jsx)("div",{className:"mt-1 row row-cols-1 row-cols-md-2 row-cols-xl-3 row-cols-xxl-4 g-3",children:a.map((function(e,t){var a=e.travel,c=e.reservations,s=a.imageName,r=a.destination,i=a.departurePlace,l=c.filter((function(e){return!e.dependent_id}))[0].status,o=B(l),d=c.reduce((function(e,t){return e+Number(t.value)}),0).toFixed(2);return Object(n.jsx)("div",{className:"col",children:Object(n.jsxs)("div",{className:"card shadow-sm bg-light",children:[Object(n.jsx)("img",{src:"".concat(y,"uploads/").concat(s),className:"card-img-top center-cropped",alt:r}),Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("h5",{children:r}),Object(n.jsx)("hr",{}),i.map((function(e,t){var a=e.departureDate,c=e.returnDate,s=e.homeAddress,r=e.addressNumber;return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{className:"d-block ".concat(t?"mt-2":""),children:"".concat(s,", ").concat(r)}),Object(n.jsxs)("span",{children:[Object(n.jsx)(E.a,{})," ".concat(L(a)," - ").concat(L(c))]})]},t)})),Object(n.jsx)("hr",{}),c.map((function(e,t){var a=e.person,c=e.departureSeat,s=e.returnSeat,r=a.name,i=c?"Ida: ".concat(c):"",l=s?"Volta: ".concat(s):"";return Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{children:[Object(n.jsx)(Oe.a,{})," ".concat(r)]}),Object(n.jsx)("br",{}),Object(n.jsx)("span",{children:"Poltronas - ".concat(i," ").concat(l)})]},t)})),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{children:Object(n.jsx)("span",{children:"Valor Total: ".concat(d.toString().replace(".",","))})}),Object(n.jsx)("hr",{}),Object(n.jsx)("div",{children:Object(n.jsxs)("span",{children:["Pagamento: ",Object(n.jsx)("strong",{className:o.color,children:o.translated})]})})]})]})},t)}))})]})})]})};var fe=function(){var e=Object(d.f)();return Object(n.jsx)("div",{className:"container container-login",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"text-center mb-3",children:[Object(n.jsx)("img",{className:"mb-3 img-login",src:k,alt:"Logo"}),Object(n.jsx)("h5",{children:"Sistema de reserva"}),Object(n.jsx)("h3",{children:"Voc\xea n\xe3o tem permiss\xe3o para acessar esta \xe1rea!"})]}),Object(n.jsx)("div",{className:"text-center d-grid gap-2",children:Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){e.push("/login")},children:"Entrar"})})]})})};var ye=function(e){var t=Object(d.f)();return Object(n.jsx)("div",{className:"container container-login",children:Object(n.jsxs)("form",{children:[Object(n.jsxs)("div",{className:"text-center mb-3",children:[Object(n.jsx)("img",{className:"mb-3 img-login",src:k,alt:"Logo"}),Object(n.jsx)("h5",{children:"Sistema de reserva"}),Object(n.jsx)("h3",{children:"Voc\xea precisa fazer o login ou se cadastrar para continuar!"})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){localStorage.setItem("to",e.match.url),t.push("/login")},children:"Entrar"}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){localStorage.setItem("to",e.match.url),t.push("/registro")},children:"Cadastrar"})]})]})})};function ge(){return Object(n.jsx)(o.a,{children:Object(n.jsxs)(d.c,{children:[Object(n.jsx)(d.a,{path:"/acesso-negado",exact:!0,component:fe}),Object(n.jsx)(d.a,{path:"/login",exact:!0,component:C}),Object(n.jsx)(d.a,{path:"/admin",exact:!0,component:C}),Object(n.jsx)(d.a,{path:"/sair",exact:!0,component:C}),Object(n.jsx)(d.a,{path:"/email-redefine-senha",exact:!0,component:S}),Object(n.jsx)(d.a,{path:"/redefine-senha/:id",exact:!0,component:P}),Object(n.jsx)(d.a,{path:"/registro/",exact:!0,component:z}),Object(n.jsx)(d.a,{path:"/usuarios/",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(X,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/usuarios/:id",exact:!0,component:z}),Object(n.jsx)(d.a,{path:"/",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(Z,Object(l.a)({},e)):Object(n.jsx)(G,Object(l.a)({},e))}}),Object(n.jsx)(d.a,{path:"/admin-inicial/",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(Z,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(ae,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/:id",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(ne,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/:travel_id/reservas",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(de,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/:travel_id/reservas/:id",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(be,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/:travel_id/pagamentos",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(je,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/:travel_id/pagamentos/:id",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(ue,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/:travel_id/reservas-inativas",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(pe,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/:travel_id/valores/:id",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(ce,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/viagens/:travel_id/saidas/:id",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(se,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/onibus/",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(ee,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/onibus/:id",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(te,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/reservas",exact:!0,render:function(e){return"admin"===u()?Object(n.jsx)(G,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/pagamento/:id/:status",exact:!0,render:function(e){return"regular"===u()?Object(n.jsx)(xe,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/minhas-reservas",exact:!0,render:function(e){return"regular"===u()?Object(n.jsx)(ve,Object(l.a)({},e)):Object(n.jsx)(fe,{})}}),Object(n.jsx)(d.a,{path:"/reserva/:travel_id/:random",exact:!0,render:function(e){return u()?Object(n.jsx)(he,Object(l.a)({},e)):Object(n.jsx)(ye,Object(l.a)({},e))}})]})})}a(497),a(498);i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(ge,{})}),document.getElementById("root"))}},[[499,1,2]]]);
//# sourceMappingURL=main.fbfcfb1f.chunk.js.map