(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[19],{533:function(e,a,t){"use strict";t.r(a);var n=t(2),r=t(85),s=t.n(r),o=t(86),c=t(90),i=t(1),l=t.n(i),d=t(4),u=t(83),m=t(84),b=t(81),p=t(82);a.default=function(e){var a=Object(i.useState)(""),t=Object(c.a)(a,2),r=t[0],j=t[1],g=e.match.params,h=g.status,v=g.id;Object(i.useEffect)((function(){"failure"!==h&&O(v)}),[h,v]);var f=Object(d.f)(),O=function(){var e=Object(o.a)(s.a.mark((function e(a){var t,n,r,o,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{"x-access-token":localStorage.getItem("token")}},e.prev=1,e.next=4,b.a.get("/reservations/".concat(a),t);case 4:return n=e.sent,r=n.data,e.next=8,b.a.post("/reservations-email",{},{headers:{"x-access-token":localStorage.getItem("token"),email:!0,user_id:r.user_id,datetime:r.datetime}});case 8:e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),(o=Object(p.a)(e.t0)).general?j(o.error):(i="",Object.entries(e.t0.response.data).forEach((function(e){var a=Object(c.a)(e,2),t=(a[0],a[1]);i+="".concat(t," | ")})),i=i.substr(0,i.length-3),j(i));case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}();return Object(n.jsxs)(l.a.Fragment,{children:[Object(n.jsx)(u.a,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(m.a,{}),Object(n.jsx)("div",{className:"alert text-center alert-dismissible alert-danger fade show",role:"alert",style:r?{display:"block"}:{display:"none"},children:r}),Object(n.jsx)("h5",{children:"Reserva"}),Object(n.jsx)("br",{}),"success"===h?Object(n.jsx)("h6",{children:"Pagamento efetuado com sucesso!"}):"","failure"===h?Object(n.jsx)("h6",{children:"O pagamento pagamento falhou, se desejar fa\xe7a outra reserva e tente novamente!"}):"","pending"===h?Object(n.jsx)("h6",{children:"O pagamento est\xe1 pendente, voc\xea dever\xe1 receber um email quando for aprovado!"}):"",Object(n.jsx)("br",{}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){f.push("/")},children:"Voltar"})]})})]})}},80:function(e,a,t){"use strict";a.a=t.p+"static/media/logo.4fa702a3.png"},81:function(e,a,t){"use strict";t.d(a,"a",(function(){return o})),t.d(a,"b",(function(){return c})),t.d(a,"c",(function(){return s}));var n=t(87),r=t.n(n),s="https://api.ldviagens.com/",o=r.a.create({baseURL:s}),c=function(e){return r.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))}},82:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n=function(e){if(e.hasOwnProperty("response")&&e.response){var a=!1;return a=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:a}:{general:!1,error:e.response.data,forbidden:a}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:a}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}}},83:function(e,a,t){"use strict";var n=t(2),r=t(1),s=t.n(r),o=t(80),c=t(95),i=(t(93),t(7));function l(){return Object(n.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed mt-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})})}a.a=function(e){var a=e.hamburger,t=Object(n.jsx)(c.a,{phoneNumber:localStorage.getItem("companyPhone"),textReplyTime:"Responderemos assim que poss\xedvel",message:"Ol\xe1! O que podemos fazer por voc\xea?",companyName:localStorage.getItem("companyName"),sendButton:"Enviar",placeholder:"Digite sua mensagem"});return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("header",{className:"navbar navbar-light sticky-top bg-white p-0 shadow",children:Object(n.jsxs)("div",{className:"container text-center",children:[Object(n.jsx)("img",{className:"my-3 img-menu",src:o.a,alt:"Logo"}),"none"!==a?Object(n.jsx)(l,{}):""]})}),"admin"!==Object(i.b)()?t:""]})}},84:function(e,a,t){"use strict";var n=t(2),r=(t(1),t(53)),s=t(7);a.a=function(){var e=[],a=Object(s.b)();return a||(e=[{key:1,name:"Login",to:"/login"},{key:2,name:"Cadastrar",to:"/registro"}]),"admin"===a&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/admin-inicial"},{key:2,name:"Dados Admin",to:"/usuarios/".concat(Object(s.a)())},{key:3,name:"Reservas",to:"/reservas"},{key:4,name:"Visualiza\xe7\xe3o de Usu\xe1rios",to:"/usuarios"},{key:5,name:"Cadastro de Viagens",to:"/viagens"},{key:6,name:"Cadastro de \xd4nibus",to:"/onibus"},{key:7,name:"Sair",to:"/sair"}]),"regular"===a&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/"},{key:2,name:"Meus Dados",to:"/usuarios/".concat(Object(s.a)())},{key:3,name:"Minhas Reservas",to:"/minhas-reservas"},{key:4,name:"Sair",to:"/sair"}]),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(n.jsx)("div",{className:"position-sticky pt-3",children:Object(n.jsx)("ul",{className:"nav flex-column",children:e.map((function(e){return Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(r.b,{className:"nav-link","aria-current":"page",to:e.to,children:e.name})},e.key)}))})})})})}}}]);
//# sourceMappingURL=19.e6842942.chunk.js.map