(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[18],{524:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t(5),l=t(27),s=t.n(l),r=t(41),i=t(20),o=t(1),d=t.n(o),b=t(6),j=t(43),u=t(44),p=t(39),m=t(60),h=t(42);a.default=function(e){var a=Object(o.useState)(!1),t=Object(i.a)(a,2),l=t[0],v=t[1],O=Object(o.useState)(!1),x=Object(i.a)(O,2),f=x[0],g=x[1],y=Object(o.useState)({}),N=Object(i.a)(y,2),k=N[0],C=N[1],D=Object(o.useState)(""),A=Object(i.a)(D,2),S=A[0],P=A[1],R=Object(o.useState)({state:"AC"}),w=Object(i.a)(R,2),F=w[0],E=w[1],M=Object(b.f)(),G=e.match.params,L=G.travel_id,B=G.id,I={headers:{"x-access-token":localStorage.getItem("token")}};Object(o.useEffect)((function(){"novo"!==B&&function(){var e=Object(r.a)(s.a.mark((function e(){var a,t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/travels/".concat(L,"/departureplaces/").concat(B),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:a=e.sent,(t=a.data).departureDate=Object(m.d)(t.departureDate),t.returnDate=Object(m.d)(t.returnDate),E(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),(n=Object(h.a)(e.t0)).forbidden?M.push("/"):n.general&&P(n.error);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[L,B,M]);var J=function(){var e=Object(r.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),C({}),e.prev=2,"novo"===B){e.next=8;break}return e.next=6,p.a.put("/travels/".concat(L,"/departureplaces/").concat(B),F,I);case 6:e.next=10;break;case 8:return e.next=10,p.a.post("/travels/".concat(L,"/departureplaces"),F,I);case 10:M.push("/viagens/".concat(L)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),v(!1),(a=Object(h.a)(e.t0)).general?P(a.error):C(a.error);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(r.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,e.next=4,p.a.delete("/travels/".concat(L,"/departureplaces/").concat(B),I);case 4:M.push("/viagens/".concat(L)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(a=Object(h.a)(e.t0)).general?P(a.error):C(a.error);case 11:v(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(r.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.b)(F.cep);case 3:a=e.sent,(t=a.data).erro||E(Object(c.a)(Object(c.a)({},F),{},{homeAddress:t.logradouro,complement:t.complement,neighborhood:t.bairro,city:t.localidade,state:t.uf})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C({cep:"CEP Inv\xe1lido!"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(d.a.Fragment,{children:[Object(n.jsx)(j.a,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(u.a,{}),Object(n.jsx)("h5",{children:"Cadastro de pontos de sa\xedda da viagem"}),Object(n.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:S?{display:"block"}:{display:"none"},children:S}),Object(n.jsxs)("div",{className:"col-lg-2",children:[Object(n.jsx)("label",{htmlFor:"initialAge",className:"form-label",children:"CEP"}),Object(n.jsx)("input",{id:"initialAge",type:"text",className:"form-control ".concat(k.cep?"is-invalid":""),maxLength:"8",value:F.cep||"",onChange:function(e){var a=e.target.value;(""===a||/^[0-9\b]+$/.test(a))&&E(Object(c.a)(Object(c.a)({},F),{},{cep:a}))},onBlur:$}),Object(n.jsx)("div",{id:"validationInitialAge",className:"invalid-feedback",style:k.cep?{display:"inline"}:{display:"none"},children:k.cep})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"homeAddress",className:"form-label",children:"Endere\xe7o"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.homeAddress?"is-invalid":""),id:"homeAddress",maxLength:"255",value:F.homeAddress||"",onChange:function(e){E(Object(c.a)(Object(c.a)({},F),{},{homeAddress:e.target.value}))}}),Object(n.jsx)("div",{id:"validationHomeAddress",className:"invalid-feedback",style:k.homeAddress?{display:"inline"}:{display:"none"},children:k.homeAddress})]}),Object(n.jsxs)("div",{className:"col-lg-1",children:[Object(n.jsx)("label",{htmlFor:"addressNumber",className:"form-label",children:"N\xfamero"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.addressNumber?"is-invalid":""),id:"addressNumber",maxLength:"5",value:F.addressNumber||"",onChange:function(e){var a=e.target.value;(""===a||/^[0-9\b]+$/.test(a))&&E(Object(c.a)(Object(c.a)({},F),{},{addressNumber:a}))}}),Object(n.jsx)("div",{id:"validationNumber",className:"invalid-feedback",style:k.addressNumber?{display:"inline"}:{display:"none"},children:k.addressNumber})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"complement",className:"form-label",children:"Complemento"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.complement?"is-invalid":""),id:"complement",maxLength:"255",value:F.complement||"",onChange:function(e){E(Object(c.a)(Object(c.a)({},F),{},{complement:e.target.value}))}}),Object(n.jsx)("div",{id:"validationComplement",className:"invalid-feedback",style:k.complement?{display:"inline"}:{display:"none"},children:k.complement})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"neighborhood",className:"form-label",children:"Bairro"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.neighborhood?"is-invalid":""),id:"neighborhood",maxLength:"255",value:F.neighborhood||"",onChange:function(e){E(Object(c.a)(Object(c.a)({},F),{},{neighborhood:e.target.value}))}}),Object(n.jsx)("div",{id:"validationNeighborhood",className:"invalid-feedback",style:k.neighborhood?{display:"inline"}:{display:"none"},children:k.neighborhood})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"state",className:"form-label",children:"Estado"}),Object(n.jsxs)("select",{className:"form-select ".concat(k.state?"is-invalid":""),id:"state",value:F.state||"",onChange:function(e){E(Object(c.a)(Object(c.a)({},F),{},{state:e.target.value}))},children:[Object(n.jsx)("option",{value:"AC",children:"Acre"}),Object(n.jsx)("option",{value:"AL",children:"Alagoas"}),Object(n.jsx)("option",{value:"AP",children:"Amap\xe1"}),Object(n.jsx)("option",{value:"AM",children:"Amazonas"}),Object(n.jsx)("option",{value:"BA",children:"Bahia"}),Object(n.jsx)("option",{value:"CE",children:"Cear\xe1"}),Object(n.jsx)("option",{value:"DF",children:"Distrito Federal"}),Object(n.jsx)("option",{value:"ES",children:"Esp\xedrito Santo"}),Object(n.jsx)("option",{value:"GO",children:"Goi\xe1s"}),Object(n.jsx)("option",{value:"MA",children:"Maranh\xe3o"}),Object(n.jsx)("option",{value:"MT",children:"Mato Grosso"}),Object(n.jsx)("option",{value:"MS",children:"Mato Grosso do Sul"}),Object(n.jsx)("option",{value:"MG",children:"Minas Gerais"}),Object(n.jsx)("option",{value:"PA",children:"Par\xe1"}),Object(n.jsx)("option",{value:"PB",children:"Para\xedba"}),Object(n.jsx)("option",{value:"PR",children:"Paran\xe1"}),Object(n.jsx)("option",{value:"PE",children:"Pernambuco"}),Object(n.jsx)("option",{value:"PI",children:"Piau\xed"}),Object(n.jsx)("option",{value:"RJ",children:"Rio de Janeiro"}),Object(n.jsx)("option",{value:"RN",children:"Rio Grande do Norte"}),Object(n.jsx)("option",{value:"RS",children:"Rio Grande do Sul"}),Object(n.jsx)("option",{value:"RO",children:"Rond\xf4nia"}),Object(n.jsx)("option",{value:"RR",children:"Roraima"}),Object(n.jsx)("option",{value:"SC",children:"Santa Catarina"}),Object(n.jsx)("option",{value:"SP",children:"S\xe3o Paulo"}),Object(n.jsx)("option",{value:"SE",children:"Sergipe"}),Object(n.jsx)("option",{value:"TO",children:"Tocantins"})]}),Object(n.jsx)("div",{id:"validationState",className:"invalid-feedback",style:k.state?{display:"inline"}:{display:"none"},children:k.state})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"city",className:"form-label",children:"Cidade"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.city?"is-invalid":""),id:"city",maxLength:"255",value:F.city||"",onChange:function(e){E(Object(c.a)(Object(c.a)({},F),{},{city:e.target.value}))}}),Object(n.jsx)("div",{id:"validationCity",className:"invalid-feedback",style:k.city?{display:"inline"}:{display:"none"},children:k.city})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"departureDate",className:"form-label",children:"Data de Sa\xedda"}),Object(n.jsx)("input",{type:"datetime-local",className:"form-control ".concat(k.departureDate?"is-invalid":""),id:"departureDate",value:F.departureDate||"",onChange:function(e){E(Object(c.a)(Object(c.a)({},F),{},{departureDate:e.target.value}))}}),Object(n.jsx)("div",{id:"validationDepartureDate",className:"invalid-feedback",style:k.departureDate?{display:"inline"}:{display:"none"},children:k.departureDate})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"returnDate",className:"form-label",children:"Data de Retorno"}),Object(n.jsx)("input",{type:"datetime-local",className:"form-control ".concat(k.returnDate?"is-invalid":""),id:"departureDate",value:F.returnDate||"",onChange:function(e){E(Object(c.a)(Object(c.a)({},F),{},{returnDate:e.target.value}))}}),Object(n.jsx)("div",{id:"validationReturnDate",className:"invalid-feedback",style:k.returnDate?{display:"inline"}:{display:"none"},children:k.returnDate})]})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:J,disabled:l,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:l?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==B?{display:"inline-block"}:{display:"none"},onClick:T,disabled:f,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:f?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){M.push("/viagens/".concat(L))},children:"Voltar"})]})]})})]})}}}]);
//# sourceMappingURL=18.ceaa7357.chunk.js.map