(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[21],{524:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t(6),c=t(55),i=t.n(c),s=t(63),r=t(38),o=t(1),d=t.n(o),u=t(5),b=t(39),j=t(40),p=t(56),v=t(64);a.default=function(e){var a=Object(o.useState)(!1),t=Object(r.a)(a,2),c=t[0],m=t[1],h=Object(o.useState)(!1),O=Object(r.a)(h,2),x=O[0],y=O[1],f=Object(o.useState)({}),g=Object(r.a)(f,2),N=g[0],k=g[1],V=Object(o.useState)(""),C=Object(r.a)(V,2),A=C[0],w=C[1],R=Object(o.useState)({lapChild:!1,value:0,onlyDepartureValue:0,onlyReturnValue:0,initialAge:0,finalAge:0}),D=Object(r.a)(R,2),F=D[0],S=D[1],I=Object(u.f)(),E=e.match.params,J=E.travel_id,L=E.id,_={headers:{"x-access-token":localStorage.getItem("token")}};Object(o.useEffect)((function(){"novo"!==L&&function(){var e=Object(s.a)(i.a.mark((function e(){var a,t,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/travels/".concat(J,"/values/").concat(L),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:a=e.sent,t=a.data,S(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),(l=Object(v.a)(e.t0)).forbidden?I.push("/"):l.general&&w(l.error);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[J,L,I]);var q=function(){var e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(!0),k({}),e.prev=2,"novo"===L){e.next=8;break}return e.next=6,p.a.put("/travels/".concat(J,"/values/").concat(L),F,_);case 6:e.next=10;break;case 8:return e.next=10,p.a.post("/travels/".concat(J,"/values"),F,_);case 10:I.push("/viagens/".concat(J)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),m(!1),(a=Object(v.a)(e.t0)).general?w(a.error):k(a.error);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(s.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,p.a.delete("/travels/".concat(J,"/values/").concat(L),_);case 4:I.push("/viagens/".concat(J)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(a=Object(v.a)(e.t0)).general?w(a.error):k(a.error);case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)(d.a.Fragment,{children:[Object(l.jsx)(b.a,{}),Object(l.jsx)("div",{className:"container-fluid mb-4",children:Object(l.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(l.jsx)(j.a,{}),Object(l.jsx)("h5",{children:"Cadastro de valores da viagem"}),Object(l.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(l.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:A?{display:"block"}:{display:"none"},children:A}),Object(l.jsxs)("div",{className:"col-md-3",children:[Object(l.jsx)("label",{htmlFor:"initialAge",className:"form-label",children:"Idade Inicial"}),Object(l.jsx)("input",{id:"initialAge",type:"number",className:"form-control ".concat(N.initialAge?"is-invalid":""),max:"99",value:F.initialAge||0,onChange:function(e){S(Object(n.a)(Object(n.a)({},F),{},{initialAge:e.target.value}))}}),Object(l.jsx)("div",{id:"validationInitialAge",className:"invalid-feedback",style:N.initialAge?{display:"inline"}:{display:"none"},children:N.initialAge})]}),Object(l.jsxs)("div",{className:"col-md-3",children:[Object(l.jsx)("label",{htmlFor:"finalAge",className:"form-label",children:"Idade Final"}),Object(l.jsx)("input",{id:"finalAge",type:"number",className:"form-control ".concat(N.finalAge?"is-invalid":""),max:"99",value:F.finalAge||0,onChange:function(e){S(Object(n.a)(Object(n.a)({},F),{},{finalAge:e.target.value}))}}),Object(l.jsx)("div",{id:"validationFinalAge",className:"invalid-feedback",style:N.finalAge?{display:"inline"}:{display:"none"},children:N.finalAge})]}),Object(l.jsxs)("div",{className:"col-md-6",children:[Object(l.jsx)("label",{htmlFor:"value",className:"form-label",children:"Valor"}),Object(l.jsx)("input",{id:"value",type:"number",className:"form-control ".concat(N.value?"is-invalid":""),value:F.value||0,onChange:function(e){S(Object(n.a)(Object(n.a)({},F),{},{value:e.target.value}))}}),Object(l.jsx)("div",{id:"validationValue",className:"invalid-feedback",style:N.value?{display:"inline"}:{display:"none"},children:N.value})]}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"onlyDepartureValue",className:"form-label",children:"Valor Ida"}),Object(l.jsx)("input",{id:"onlyDepartureValue",type:"number",className:"form-control ".concat(N.onlyDepartureValue?"is-invalid":""),value:F.onlyDepartureValue||0,onChange:function(e){S(Object(n.a)(Object(n.a)({},F),{},{onlyDepartureValue:e.target.value}))}}),Object(l.jsx)("div",{id:"validationOnlyDepartureValue",className:"invalid-feedback",style:N.onlyDepartureValue?{display:"inline"}:{display:"none"},children:N.onlyDepartureValue})]}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{htmlFor:"onlyReturnValue",className:"form-label",children:"Valor Retorno"}),Object(l.jsx)("input",{id:"onlyReturnValue",type:"number",className:"form-control ".concat(N.onlyReturnValue?"is-invalid":""),value:F.onlyReturnValue||0,onChange:function(e){S(Object(n.a)(Object(n.a)({},F),{},{onlyReturnValue:e.target.value}))}}),Object(l.jsx)("div",{id:"validationOnlyReturnValue",className:"invalid-feedback",style:N.onlyReturnValue?{display:"inline"}:{display:"none"},children:N.onlyReturnValue})]}),Object(l.jsxs)("div",{className:"col-md-4",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"lapChild",children:"Crian\xe7a de colo?"}),Object(l.jsxs)("select",{className:"form-select ".concat(N.lapChild?"is-invalid":""),id:"lapChild",value:F.lapChild||!1,onChange:function(e){S(Object(n.a)(Object(n.a)({},F),{},{lapChild:e.target.value}))},children:[Object(l.jsx)("option",{value:!1,children:"N\xe3o"}),Object(l.jsx)("option",{value:!0,children:"Sim"})]}),Object(l.jsx)("div",{id:"validationLapChild",className:"invalid-feedback",style:N.lapChild?{display:"inline"}:{display:"none"},children:N.lapChild})]})]}),Object(l.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(l.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:q,disabled:c,children:[Object(l.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:c?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(l.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==L?{display:"inline-block"}:{display:"none"},onClick:z,disabled:x,children:[Object(l.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:x?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(l.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){I.push("/viagens/".concat(J))},children:"Voltar"})]})]})})]})}}}]);
//# sourceMappingURL=21.6c1ca6f9.chunk.js.map