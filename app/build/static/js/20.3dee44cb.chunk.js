(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[20],{455:function(e,a,t){"use strict";t.r(a);var n=t(3),r=t(89),s=t.n(r),c=t(90),o=t(51),i=t(1),l=t.n(i),d=t(6),u=t(87),b=t(88),m=t(85),p=t(86),j=t(2);a.default=function(e){var a=Object(i.useState)(!1),t=Object(o.a)(a,2),r=t[0],g=t[1],h=Object(i.useState)(!1),v=Object(o.a)(h,2),O=v[0],f=v[1],x=Object(i.useState)({}),y=Object(o.a)(x,2),k=y[0],N=y[1],w=Object(i.useState)({}),S=Object(o.a)(w,2),C=S[0],I=S[1],P=Object(i.useState)(""),E=Object(o.a)(P,2),M=E[0],R=E[1],D=Object(d.f)(),L=e.match.params.id,A={headers:{"x-access-token":localStorage.getItem("token")}};Object(i.useEffect)((function(){"novo"!==L&&function(){var e=Object(c.a)(s.a.mark((function e(){var a,t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.a.get("/reservation/".concat(L),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:a=e.sent,N(a.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(t=Object(p.a)(e.t0)).forbidden?D.push("/"):t.general&&R(t.error);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}),[L,D]);var F=function(){var e=Object(c.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),I({});try{D.push("/onibus")}catch(C){g(!1),(a=Object(p.a)(C)).general?R(a.error):I(a.error)}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,m.a.delete("/buses/".concat(L),A);case 4:D.push("/onibus"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(a=Object(p.a)(e.t0)).general?R(a.error):I(a.error);case 11:g(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(l.a.Fragment,{children:[Object(j.jsx)(u.a,{}),Object(j.jsx)("div",{className:"container-fluid",children:Object(j.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(j.jsx)(b.a,{}),Object(j.jsx)("h5",{children:"Cadastro de \xf4nibus"}),Object(j.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(j.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:M?{display:"block"}:{display:"none"},children:M}),Object(j.jsxs)("div",{className:"col-md-12",children:[Object(j.jsx)("label",{htmlFor:"description",className:"form-label",children:"Descri\xe7\xe3o"}),Object(j.jsx)("input",{type:"text",className:"form-control ".concat(C.description?"is-invalid":""),id:"description",maxLength:"255",value:k.description||"",onChange:function(e){N(Object(n.a)(Object(n.a)({},k),{},{description:e.target.value}))}}),Object(j.jsx)("div",{id:"validationName",className:"invalid-feedback",style:C.description?{display:"inline"}:{display:"none"},children:C.description})]})]}),Object(j.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(j.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:F,disabled:r,children:[Object(j.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:r?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(j.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==L?{display:"inline-block"}:{display:"none"},onClick:V,disabled:O,children:[Object(j.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:O?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(j.jsx)("button",{type:"button",className:"btn btn-warning text-white mb-4",onClick:function(){D.push("/onibus")},children:"Voltar"})]})]})})]})}},84:function(e,a,t){"use strict";a.a=t.p+"static/media/logo.47d929e8.png"},85:function(e,a,t){"use strict";t.d(a,"a",(function(){return c})),t.d(a,"b",(function(){return o})),t.d(a,"c",(function(){return s}));var n=t(91),r=t.n(n),s="https://api.ldviagens.com/",c=r.a.create({baseURL:s}),o=function(e){return r.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))}},86:function(e,a,t){"use strict";t.d(a,"a",(function(){return n}));var n=function(e){if(e.hasOwnProperty("response")&&e.response){var a=!1;return a=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:a}:{general:!1,error:e.response.data,forbidden:a}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:a}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}}},87:function(e,a,t){"use strict";var n=t(1),r=t.n(n),s=t(84),c=t(98),o=(t(96),t(8)),i=t(2);function l(){return Object(i.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed mt-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(i.jsx)("span",{className:"navbar-toggler-icon"})})}a.a=function(e){var a=e.hamburger,t=Object(i.jsx)(c.a,{phoneNumber:localStorage.getItem("companyPhone"),textReplyTime:"Responderemos assim que poss\xedvel",message:"Ol\xe1! O que podemos fazer por voc\xea?",companyName:localStorage.getItem("companyName"),sendButton:"Enviar",placeholder:"Digite sua mensagem"});return Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)("header",{className:"navbar navbar-light sticky-top bg-white p-0 shadow",children:Object(i.jsxs)("div",{className:"container text-center",children:[Object(i.jsx)("img",{className:"my-3 img-menu",src:s.a,alt:"Logo"}),"none"!==a?Object(i.jsx)(l,{}):""]})}),"admin"!==Object(o.b)()?t:""]})}},88:function(e,a,t){"use strict";t(1);var n=t(55),r=t(8),s=t(2);a.a=function(){var e=[],a=Object(r.b)();return a||(e=[{key:3,name:"In\xedcio",to:"/"},{key:1,name:"Login",to:"/login"},{key:2,name:"Cadastrar",to:"/registro"}]),"admin"===a&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/admin-inicial"},{key:2,name:"Dados Admin",to:"/usuarios/".concat(Object(r.a)())},{key:3,name:"Reservas",to:"/reservas"},{key:4,name:"Visualiza\xe7\xe3o de Usu\xe1rios",to:"/usuarios"},{key:5,name:"Cadastro de Viagens",to:"/viagens"},{key:6,name:"Cadastro de \xd4nibus",to:"/onibus"},{key:7,name:"Sair",to:"/sair"}]),"regular"===a&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/"},{key:2,name:"Meus Dados",to:"/usuarios/".concat(Object(r.a)())},{key:3,name:"Minhas Reservas",to:"/minhas-reservas"},{key:4,name:"Sair",to:"/sair"}]),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(s.jsx)("div",{className:"position-sticky pt-3",children:Object(s.jsx)("ul",{className:"nav flex-column",children:e.map((function(e){return Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(n.b,{className:"nav-link","aria-current":"page",to:e.to,children:e.name})},e.key)}))})})})})}}}]);
//# sourceMappingURL=20.3dee44cb.chunk.js.map