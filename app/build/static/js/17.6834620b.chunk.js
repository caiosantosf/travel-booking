(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[17],{527:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a(5),s=a(85),o=a.n(s),c=a(86),i=a(90),l=a(1),d=a.n(l),u=a(4),b=a(83),m=a(84),p=a(81),j=a(91),h=a(82);t.default=function(e){var t=Object(l.useState)(!1),a=Object(i.a)(t,2),s=a[0],v=a[1],x=Object(l.useState)(!1),g=Object(i.a)(x,2),O=g[0],f=g[1],y=Object(l.useState)({}),N=Object(i.a)(y,2),k=N[0],C=N[1],S=Object(l.useState)(""),D=Object(i.a)(S,2),P=D[0],w=D[1],A=Object(l.useState)({state:"AC"}),M=Object(i.a)(A,2),E=M[0],R=M[1],F=Object(u.f)(),I=e.match.params,L=I.travel_id,G=I.id,T={headers:{"x-access-token":localStorage.getItem("token")}};Object(l.useEffect)((function(){"novo"!==G&&function(){var e=Object(c.a)(o.a.mark((function e(){var t,a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/travels/".concat(L,"/departureplaces/").concat(G),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:t=e.sent,(a=t.data).departureDate=Object(j.d)(a.departureDate),a.returnDate=Object(j.d)(a.returnDate),R(a),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),(n=Object(h.a)(e.t0)).forbidden?F.push("/"):n.general&&w(n.error);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()()}),[L,G,F]);var B=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),C({}),e.prev=2,"novo"===G){e.next=8;break}return e.next=6,p.a.put("/travels/".concat(L,"/departureplaces/").concat(G),E,T);case 6:e.next=10;break;case 8:return e.next=10,p.a.post("/travels/".concat(L,"/departureplaces"),E,T);case 10:F.push("/viagens/".concat(L)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),v(!1),(t=Object(h.a)(e.t0)).general?w(t.error):C(t.error);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,p.a.delete("/travels/".concat(L,"/departureplaces/").concat(G),T);case 4:F.push("/viagens/".concat(L)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(t=Object(h.a)(e.t0)).general?w(t.error):C(t.error);case 11:v(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(p.b)(E.cep);case 3:t=e.sent,(a=t.data).erro||R(Object(r.a)(Object(r.a)({},E),{},{homeAddress:a.logradouro,complement:a.complement,neighborhood:a.bairro,city:a.localidade,state:a.uf})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),C({cep:"CEP Inv\xe1lido!"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)(d.a.Fragment,{children:[Object(n.jsx)(b.a,{}),Object(n.jsx)("div",{className:"container-fluid mb-4",children:Object(n.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(n.jsx)(m.a,{}),Object(n.jsx)("h5",{children:"Cadastro de pontos de sa\xedda da viagem"}),Object(n.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(n.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:P?{display:"block"}:{display:"none"},children:P}),Object(n.jsxs)("div",{className:"col-lg-2",children:[Object(n.jsx)("label",{htmlFor:"initialAge",className:"form-label",children:"CEP"}),Object(n.jsx)("input",{id:"initialAge",type:"text",className:"form-control ".concat(k.cep?"is-invalid":""),maxLength:"8",value:E.cep||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&R(Object(r.a)(Object(r.a)({},E),{},{cep:t}))},onBlur:z}),Object(n.jsx)("div",{id:"validationInitialAge",className:"invalid-feedback",style:k.cep?{display:"inline"}:{display:"none"},children:k.cep})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"homeAddress",className:"form-label",children:"Endere\xe7o"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.homeAddress?"is-invalid":""),id:"homeAddress",maxLength:"255",value:E.homeAddress||"",onChange:function(e){R(Object(r.a)(Object(r.a)({},E),{},{homeAddress:e.target.value}))}}),Object(n.jsx)("div",{id:"validationHomeAddress",className:"invalid-feedback",style:k.homeAddress?{display:"inline"}:{display:"none"},children:k.homeAddress})]}),Object(n.jsxs)("div",{className:"col-lg-1",children:[Object(n.jsx)("label",{htmlFor:"addressNumber",className:"form-label",children:"N\xfamero"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.addressNumber?"is-invalid":""),id:"addressNumber",maxLength:"5",value:E.addressNumber||"",onChange:function(e){var t=e.target.value;(""===t||/^[0-9\b]+$/.test(t))&&R(Object(r.a)(Object(r.a)({},E),{},{addressNumber:t}))}}),Object(n.jsx)("div",{id:"validationNumber",className:"invalid-feedback",style:k.addressNumber?{display:"inline"}:{display:"none"},children:k.addressNumber})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"complement",className:"form-label",children:"Complemento"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.complement?"is-invalid":""),id:"complement",maxLength:"255",value:E.complement||"",onChange:function(e){R(Object(r.a)(Object(r.a)({},E),{},{complement:e.target.value}))}}),Object(n.jsx)("div",{id:"validationComplement",className:"invalid-feedback",style:k.complement?{display:"inline"}:{display:"none"},children:k.complement})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"neighborhood",className:"form-label",children:"Bairro"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.neighborhood?"is-invalid":""),id:"neighborhood",maxLength:"255",value:E.neighborhood||"",onChange:function(e){R(Object(r.a)(Object(r.a)({},E),{},{neighborhood:e.target.value}))}}),Object(n.jsx)("div",{id:"validationNeighborhood",className:"invalid-feedback",style:k.neighborhood?{display:"inline"}:{display:"none"},children:k.neighborhood})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"state",className:"form-label",children:"Estado"}),Object(n.jsxs)("select",{className:"form-select ".concat(k.state?"is-invalid":""),id:"state",value:E.state||"",onChange:function(e){R(Object(r.a)(Object(r.a)({},E),{},{state:e.target.value}))},children:[Object(n.jsx)("option",{value:"AC",children:"Acre"}),Object(n.jsx)("option",{value:"AL",children:"Alagoas"}),Object(n.jsx)("option",{value:"AP",children:"Amap\xe1"}),Object(n.jsx)("option",{value:"AM",children:"Amazonas"}),Object(n.jsx)("option",{value:"BA",children:"Bahia"}),Object(n.jsx)("option",{value:"CE",children:"Cear\xe1"}),Object(n.jsx)("option",{value:"DF",children:"Distrito Federal"}),Object(n.jsx)("option",{value:"ES",children:"Esp\xedrito Santo"}),Object(n.jsx)("option",{value:"GO",children:"Goi\xe1s"}),Object(n.jsx)("option",{value:"MA",children:"Maranh\xe3o"}),Object(n.jsx)("option",{value:"MT",children:"Mato Grosso"}),Object(n.jsx)("option",{value:"MS",children:"Mato Grosso do Sul"}),Object(n.jsx)("option",{value:"MG",children:"Minas Gerais"}),Object(n.jsx)("option",{value:"PA",children:"Par\xe1"}),Object(n.jsx)("option",{value:"PB",children:"Para\xedba"}),Object(n.jsx)("option",{value:"PR",children:"Paran\xe1"}),Object(n.jsx)("option",{value:"PE",children:"Pernambuco"}),Object(n.jsx)("option",{value:"PI",children:"Piau\xed"}),Object(n.jsx)("option",{value:"RJ",children:"Rio de Janeiro"}),Object(n.jsx)("option",{value:"RN",children:"Rio Grande do Norte"}),Object(n.jsx)("option",{value:"RS",children:"Rio Grande do Sul"}),Object(n.jsx)("option",{value:"RO",children:"Rond\xf4nia"}),Object(n.jsx)("option",{value:"RR",children:"Roraima"}),Object(n.jsx)("option",{value:"SC",children:"Santa Catarina"}),Object(n.jsx)("option",{value:"SP",children:"S\xe3o Paulo"}),Object(n.jsx)("option",{value:"SE",children:"Sergipe"}),Object(n.jsx)("option",{value:"TO",children:"Tocantins"})]}),Object(n.jsx)("div",{id:"validationState",className:"invalid-feedback",style:k.state?{display:"inline"}:{display:"none"},children:k.state})]}),Object(n.jsxs)("div",{className:"col-lg-3",children:[Object(n.jsx)("label",{htmlFor:"city",className:"form-label",children:"Cidade"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(k.city?"is-invalid":""),id:"city",maxLength:"255",value:E.city||"",onChange:function(e){R(Object(r.a)(Object(r.a)({},E),{},{city:e.target.value}))}}),Object(n.jsx)("div",{id:"validationCity",className:"invalid-feedback",style:k.city?{display:"inline"}:{display:"none"},children:k.city})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"departureDate",className:"form-label",children:"Data de Sa\xedda"}),Object(n.jsx)("input",{type:"datetime-local",className:"form-control ".concat(k.departureDate?"is-invalid":""),id:"departureDate",value:E.departureDate||"",onChange:function(e){R(Object(r.a)(Object(r.a)({},E),{},{departureDate:e.target.value}))}}),Object(n.jsx)("div",{id:"validationDepartureDate",className:"invalid-feedback",style:k.departureDate?{display:"inline"}:{display:"none"},children:k.departureDate})]}),Object(n.jsxs)("div",{className:"col-lg-6",children:[Object(n.jsx)("label",{htmlFor:"returnDate",className:"form-label",children:"Data de Retorno"}),Object(n.jsx)("input",{type:"datetime-local",className:"form-control ".concat(k.returnDate?"is-invalid":""),id:"departureDate",value:E.returnDate||"",onChange:function(e){R(Object(r.a)(Object(r.a)({},E),{},{returnDate:e.target.value}))}}),Object(n.jsx)("div",{id:"validationReturnDate",className:"invalid-feedback",style:k.returnDate?{display:"inline"}:{display:"none"},children:k.returnDate})]})]}),Object(n.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:B,disabled:s,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:s?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(n.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==G?{display:"inline-block"}:{display:"none"},onClick:V,disabled:O,children:[Object(n.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:O?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(n.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){F.push("/viagens/".concat(L))},children:"Voltar"})]})]})})]})}},80:function(e,t,a){"use strict";t.a=a.p+"static/media/logo.4fa702a3.png"},81:function(e,t,a){"use strict";a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return s}));var n=a(87),r=a.n(n),s="https://api.ldviagens.com/",o=r.a.create({baseURL:s}),c=function(e){return r.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))}},82:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){if(e.hasOwnProperty("response")&&e.response){var t=!1;return t=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:t}:{general:!1,error:e.response.data,forbidden:t}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:t}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}}},83:function(e,t,a){"use strict";var n=a(2),r=a(1),s=a.n(r),o=a(80),c=a(95),i=(a(93),a(7));function l(){return Object(n.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed mt-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})})}t.a=function(e){var t=e.hamburger,a=Object(n.jsx)(c.a,{phoneNumber:localStorage.getItem("companyPhone"),textReplyTime:"Responderemos assim que poss\xedvel",message:"Ol\xe1! O que podemos fazer por voc\xea?",companyName:localStorage.getItem("companyName"),sendButton:"Enviar",placeholder:"Digite sua mensagem"});return Object(n.jsxs)(s.a.Fragment,{children:[Object(n.jsx)("header",{className:"navbar navbar-light sticky-top bg-white p-0 shadow",children:Object(n.jsxs)("div",{className:"container text-center",children:[Object(n.jsx)("img",{className:"my-3 img-menu",src:o.a,alt:"Logo"}),"none"!==t?Object(n.jsx)(l,{}):""]})}),"admin"!==Object(i.b)()?a:""]})}},84:function(e,t,a){"use strict";var n=a(2),r=(a(1),a(53)),s=a(7);t.a=function(){var e=[],t=Object(s.b)();return t||(e=[{key:1,name:"Login",to:"/login"},{key:2,name:"Cadastrar",to:"/registro"}]),"admin"===t&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/admin-inicial"},{key:2,name:"Dados Admin",to:"/usuarios/".concat(Object(s.a)())},{key:3,name:"Reservas",to:"/reservas"},{key:4,name:"Visualiza\xe7\xe3o de Usu\xe1rios",to:"/usuarios"},{key:5,name:"Cadastro de Viagens",to:"/viagens"},{key:6,name:"Cadastro de \xd4nibus",to:"/onibus"},{key:7,name:"Sair",to:"/sair"}]),"regular"===t&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/"},{key:2,name:"Meus Dados",to:"/usuarios/".concat(Object(s.a)())},{key:3,name:"Minhas Reservas",to:"/minhas-reservas"},{key:4,name:"Sair",to:"/sair"}]),Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(n.jsx)("div",{className:"position-sticky pt-3",children:Object(n.jsx)("ul",{className:"nav flex-column",children:e.map((function(e){return Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(r.b,{className:"nav-link","aria-current":"page",to:e.to,children:e.name})},e.key)}))})})})})}},88:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(110);function r(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=Object(n.a)(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,i=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return c=e.done,e},e:function(e){i=!0,o=e},f:function(){try{c||null==a.return||a.return()}finally{if(i)throw o}}}}},91:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"e",(function(){return l})),a.d(t,"f",(function(){return d}));var n=a(88),r=function(e){var t=new Date(e);return{day:t.getDate().toString().padStart(2,"0"),month:(t.getMonth()+1).toString().padStart(2,"0"),year:t.getFullYear(),hour:t.getHours().toString().padStart(2,"0"),minute:t.getMinutes().toString().padStart(2,"0")}},s=function(e){var t=r(e),a=t.day,n=t.month,s=t.year,o=t.hour,c=t.minute;return"".concat(a,"/").concat(n,"/").concat(s," ").concat(o,":").concat(c)},o=function(e){var t=r(e),a=t.day,n=t.month,s=t.year,o=t.hour,c=t.minute;return"".concat(s,"-").concat(n,"-").concat(a,"T").concat(o,":").concat(c)},c=function(e){var t=new Date,a=new Date(e.split("/").reverse().join("-")+" 00:00:00"),n=t.getFullYear()-a.getFullYear(),r=t.getMonth()-a.getMonth();return(r<0||0===r&&t.getDate()<a.getDate())&&(n-=1),n},i=function(e,t,a,r){var s,o=0,c=!1,i=Object(n.a)(e);try{for(i.s();!(s=i.n()).done;){var l=s.value;if(t>=l.initialAge&&t<=l.finalAge&&(l.lapChild&&(c=!0),l.lapChild===r)){o="normal"===a?l.value:"departure"===a?l.onlyDepartureValue:l.onlyReturnValue;break}}}catch(d){i.e(d)}finally{i.f()}return{value:o,optionLapChild:c}},l=function(e){var t={};return"pending"===e&&(t={status:e,translated:"Pendente (MP)",color:"text-warning"}),"approved"===e&&(t={status:e,translated:"Aprovado (MP)",color:"text-success"}),"authorized"===e&&(t={status:e,translated:"Pendente (MP)",color:"text-warning"}),"in_process"===e&&(t={status:e,translated:"Em Processamento (MP)",color:"text-warning"}),"in_mediation"===e&&(t={status:e,translated:"Em Disputa (MP)",color:"text-warning"}),"rejected"===e&&(t={status:e,translated:"Rejeitado (MP)",color:"text-danger"}),"cancelled"===e&&(t={status:e,translated:"Cancelado (MP)",color:"text-danger"}),"refunded"===e&&(t={status:e,translated:"Devolvido (MP)",color:"text-danger"}),"charged_back"===e&&(t={status:e,translated:"Estornado (MP)",color:"text-danger"}),"created"===e&&(t={status:e,translated:"Criado (MP)",color:"text-warning"}),"1"===e&&(t={status:e,translated:"Confirmar (Pix)",color:"text-warning"}),"2"===e&&(t={status:e,translated:"Confirmado (Pix)",color:"text-success"}),"3"===e&&(t={status:e,translated:"Confirmar (Infinite)",color:"text-warning"}),"4"===e&&(t={status:e,translated:"Confirmado (Infinite)",color:"text-success"}),"5"===e&&(t={status:e,translated:"Confirmar (Formulario)",color:"text-warning"}),"6"===e&&(t={status:e,translated:"Confirmado (Formulario)",color:"text-success"}),"7"===e&&(t={status:e,translated:"No Embarque",color:"text-success"}),"dependent"===e&&(t={status:e,translated:"Dependente",color:"text-success"}),t},d=function(e){return"email"===e?"Email":"phone"===e?"Telefone":"cpf"===e?"CPF":""}}}]);
//# sourceMappingURL=17.6834620b.chunk.js.map