(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[22],{526:function(e,a,n){"use strict";n.r(a);var t=n(2),s=n(5),r=n(85),l=n.n(r),i=n(86),c=n(90),o=n(1),d=n.n(o),u=n(4),b=n(83),m=n(84),p=n(81),j=n(82);a.default=function(e){var a=Object(o.useState)(!1),n=Object(c.a)(a,2),r=n[0],v=n[1],h=Object(o.useState)(!1),g=Object(c.a)(h,2),O=g[0],y=g[1],f=Object(o.useState)({}),x=Object(c.a)(f,2),N=x[0],k=x[1],V=Object(o.useState)(""),C=Object(c.a)(V,2),A=C[0],w=C[1],R=Object(o.useState)({lapChild:!1,value:0,onlyDepartureValue:0,onlyReturnValue:0,initialAge:0,finalAge:0}),S=Object(c.a)(R,2),D=S[0],I=S[1],F=Object(u.f)(),P=e.match.params,E=P.travel_id,M=P.id,L={headers:{"x-access-token":localStorage.getItem("token")}};Object(o.useEffect)((function(){"novo"!==M&&function(){var e=Object(i.a)(l.a.mark((function e(){var a,n,t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("/travels/".concat(E,"/values/").concat(M),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:a=e.sent,n=a.data,I(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),(t=Object(j.a)(e.t0)).forbidden?F.push("/"):t.general&&w(t.error);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[E,M,F]);var q=function(){var e=Object(i.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(!0),k({}),e.prev=2,"novo"===M){e.next=8;break}return e.next=6,p.a.put("/travels/".concat(E,"/values/").concat(M),D,L);case 6:e.next=10;break;case 8:return e.next=10,p.a.post("/travels/".concat(E,"/values"),D,L);case 10:F.push("/viagens/".concat(E)),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),v(!1),(a=Object(j.a)(e.t0)).general?w(a.error):k(a.error);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(){return e.apply(this,arguments)}}(),z=function(){var e=Object(i.a)(l.a.mark((function e(){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,p.a.delete("/travels/".concat(E,"/values/").concat(M),L);case 4:F.push("/viagens/".concat(E)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(a=Object(j.a)(e.t0)).general?w(a.error):k(a.error);case 11:v(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return Object(t.jsxs)(d.a.Fragment,{children:[Object(t.jsx)(b.a,{}),Object(t.jsx)("div",{className:"container-fluid mb-4",children:Object(t.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(t.jsx)(m.a,{}),Object(t.jsx)("h5",{children:"Cadastro de valores da viagem"}),Object(t.jsxs)("form",{className:"row g-3 mt-1 mb-4",children:[Object(t.jsx)("div",{className:"alert text-center alert-primary",role:"alert",style:A?{display:"block"}:{display:"none"},children:A}),Object(t.jsxs)("div",{className:"col-md-3",children:[Object(t.jsx)("label",{htmlFor:"initialAge",className:"form-label",children:"Idade Inicial"}),Object(t.jsx)("input",{id:"initialAge",type:"number",className:"form-control ".concat(N.initialAge?"is-invalid":""),max:"99",value:D.initialAge||0,onChange:function(e){I(Object(s.a)(Object(s.a)({},D),{},{initialAge:e.target.value}))}}),Object(t.jsx)("div",{id:"validationInitialAge",className:"invalid-feedback",style:N.initialAge?{display:"inline"}:{display:"none"},children:N.initialAge})]}),Object(t.jsxs)("div",{className:"col-md-3",children:[Object(t.jsx)("label",{htmlFor:"finalAge",className:"form-label",children:"Idade Final"}),Object(t.jsx)("input",{id:"finalAge",type:"number",className:"form-control ".concat(N.finalAge?"is-invalid":""),max:"99",value:D.finalAge||0,onChange:function(e){I(Object(s.a)(Object(s.a)({},D),{},{finalAge:e.target.value}))}}),Object(t.jsx)("div",{id:"validationFinalAge",className:"invalid-feedback",style:N.finalAge?{display:"inline"}:{display:"none"},children:N.finalAge})]}),Object(t.jsxs)("div",{className:"col-md-6",children:[Object(t.jsx)("label",{htmlFor:"value",className:"form-label",children:"Valor"}),Object(t.jsx)("input",{id:"value",type:"number",className:"form-control ".concat(N.value?"is-invalid":""),value:D.value||0,onChange:function(e){I(Object(s.a)(Object(s.a)({},D),{},{value:e.target.value}))}}),Object(t.jsx)("div",{id:"validationValue",className:"invalid-feedback",style:N.value?{display:"inline"}:{display:"none"},children:N.value})]}),Object(t.jsxs)("div",{className:"col-md-4",children:[Object(t.jsx)("label",{htmlFor:"onlyDepartureValue",className:"form-label",children:"Valor Ida"}),Object(t.jsx)("input",{id:"onlyDepartureValue",type:"number",className:"form-control ".concat(N.onlyDepartureValue?"is-invalid":""),value:D.onlyDepartureValue||0,onChange:function(e){I(Object(s.a)(Object(s.a)({},D),{},{onlyDepartureValue:e.target.value}))}}),Object(t.jsx)("div",{id:"validationOnlyDepartureValue",className:"invalid-feedback",style:N.onlyDepartureValue?{display:"inline"}:{display:"none"},children:N.onlyDepartureValue})]}),Object(t.jsxs)("div",{className:"col-md-4",children:[Object(t.jsx)("label",{htmlFor:"onlyReturnValue",className:"form-label",children:"Valor Retorno"}),Object(t.jsx)("input",{id:"onlyReturnValue",type:"number",className:"form-control ".concat(N.onlyReturnValue?"is-invalid":""),value:D.onlyReturnValue||0,onChange:function(e){I(Object(s.a)(Object(s.a)({},D),{},{onlyReturnValue:e.target.value}))}}),Object(t.jsx)("div",{id:"validationOnlyReturnValue",className:"invalid-feedback",style:N.onlyReturnValue?{display:"inline"}:{display:"none"},children:N.onlyReturnValue})]}),Object(t.jsxs)("div",{className:"col-md-4",children:[Object(t.jsx)("label",{className:"form-label",htmlFor:"lapChild",children:"Crian\xe7a de colo?"}),Object(t.jsxs)("select",{className:"form-select ".concat(N.lapChild?"is-invalid":""),id:"lapChild",value:D.lapChild||!1,onChange:function(e){I(Object(s.a)(Object(s.a)({},D),{},{lapChild:e.target.value}))},children:[Object(t.jsx)("option",{value:!1,children:"N\xe3o"}),Object(t.jsx)("option",{value:!0,children:"Sim"})]}),Object(t.jsx)("div",{id:"validationLapChild",className:"invalid-feedback",style:N.lapChild?{display:"inline"}:{display:"none"},children:N.lapChild})]})]}),Object(t.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(t.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:q,disabled:r,children:[Object(t.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:r?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(t.jsxs)("button",{type:"button",className:"btn btn-primary",style:"novo"!==M?{display:"inline-block"}:{display:"none"},onClick:z,disabled:O,children:[Object(t.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:O?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(t.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){F.push("/viagens/".concat(E))},children:"Voltar"})]})]})})]})}},80:function(e,a,n){"use strict";a.a=n.p+"static/media/logo.47d929e8.png"},81:function(e,a,n){"use strict";n.d(a,"a",(function(){return l})),n.d(a,"b",(function(){return i})),n.d(a,"c",(function(){return r}));var t=n(87),s=n.n(t),r="https://api.ldviagens.com/",l=s.a.create({baseURL:r}),i=function(e){return s.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))}},82:function(e,a,n){"use strict";n.d(a,"a",(function(){return t}));var t=function(e){if(e.hasOwnProperty("response")&&e.response){var a=!1;return a=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:a}:{general:!1,error:e.response.data,forbidden:a}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:a}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}}},83:function(e,a,n){"use strict";var t=n(2),s=n(1),r=n.n(s),l=n(80),i=n(95),c=(n(93),n(7));function o(){return Object(t.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed mt-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(t.jsx)("span",{className:"navbar-toggler-icon"})})}a.a=function(e){var a=e.hamburger,n=Object(t.jsx)(i.a,{phoneNumber:localStorage.getItem("companyPhone"),textReplyTime:"Responderemos assim que poss\xedvel",message:"Ol\xe1! O que podemos fazer por voc\xea?",companyName:localStorage.getItem("companyName"),sendButton:"Enviar",placeholder:"Digite sua mensagem"});return Object(t.jsxs)(r.a.Fragment,{children:[Object(t.jsx)("header",{className:"navbar navbar-light sticky-top bg-white p-0 shadow",children:Object(t.jsxs)("div",{className:"container text-center",children:[Object(t.jsx)("img",{className:"my-3 img-menu",src:l.a,alt:"Logo"}),"none"!==a?Object(t.jsx)(o,{}):""]})}),"admin"!==Object(c.b)()?n:""]})}},84:function(e,a,n){"use strict";var t=n(2),s=(n(1),n(53)),r=n(7);a.a=function(){var e=[],a=Object(r.b)();return a||(e=[{key:1,name:"Login",to:"/login"},{key:2,name:"Cadastrar",to:"/registro"}]),"admin"===a&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/admin-inicial"},{key:2,name:"Dados Admin",to:"/usuarios/".concat(Object(r.a)())},{key:3,name:"Reservas",to:"/reservas"},{key:4,name:"Visualiza\xe7\xe3o de Usu\xe1rios",to:"/usuarios"},{key:5,name:"Cadastro de Viagens",to:"/viagens"},{key:6,name:"Cadastro de \xd4nibus",to:"/onibus"},{key:7,name:"Sair",to:"/sair"}]),"regular"===a&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/"},{key:2,name:"Meus Dados",to:"/usuarios/".concat(Object(r.a)())},{key:3,name:"Minhas Reservas",to:"/minhas-reservas"},{key:4,name:"Sair",to:"/sair"}]),Object(t.jsx)("div",{className:"row",children:Object(t.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(t.jsx)("div",{className:"position-sticky pt-3",children:Object(t.jsx)("ul",{className:"nav flex-column",children:e.map((function(e){return Object(t.jsx)("li",{className:"nav-item",children:Object(t.jsx)(s.b,{className:"nav-link","aria-current":"page",to:e.to,children:e.name})},e.key)}))})})})})}}}]);
//# sourceMappingURL=22.abfc03b1.chunk.js.map