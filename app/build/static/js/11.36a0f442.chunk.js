(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[11],{286:function(e,t){},288:function(e,t){},331:function(e,t){},332:function(e,t){},462:function(e,t,a){"use strict";a.r(t);var r=a(89),n=a.n(r),s=a(90),c=a(51),o=a(1),l=a.n(o),i=a(6),d=a(87),u=a(88),b=a(158),j=a(122),m=a(123),p=a(124),h=a(125),g=a(85),x=a(200),f=a(94),O=a(2),v=x.d.create({table:{display:"table",width:"auto",borderStyle:"solid",borderWidth:1,borderRightWidth:0,borderBottomWidth:0,margin:10},tableRow:{margin:"auto",flexDirection:"row"},tableColSmall:{width:"7%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColMedium:{width:"19%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableColBig:{width:"30%",borderStyle:"solid",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCell:{margin:"auto",marginTop:5,fontSize:10},title:{margin:10}});var y=function(e){var t=e.passengers,a=e.travel,r=e.departurePlaces;return Object(O.jsx)(x.a,{children:Object(O.jsxs)(x.c,{size:"A4",style:v.page,children:[Object(O.jsx)(x.e,{style:v.title,children:"".concat(a.destination," - ").concat(Object(f.c)(r[0].departureDate))}),Object(O.jsxs)(x.f,{style:v.table,children:[Object(O.jsxs)(x.f,{style:v.tableRow,children:[Object(O.jsx)(x.f,{style:v.tableColSmall,children:Object(O.jsx)(x.e,{style:v.tableCell,children:"P. Ida"})}),Object(O.jsx)(x.f,{style:v.tableColSmall,children:Object(O.jsx)(x.e,{style:v.tableCell,children:"P. Volta"})}),Object(O.jsx)(x.f,{style:v.tableColMedium,children:Object(O.jsx)(x.e,{style:v.tableCell,children:"Pagamento"})}),Object(O.jsx)(x.f,{style:v.tableColBig,children:Object(O.jsx)(x.e,{style:v.tableCell,children:"Ponto"})}),Object(O.jsx)(x.f,{style:v.tableColBig,children:Object(O.jsx)(x.e,{style:v.tableCell,children:"Nome"})}),Object(O.jsx)(x.f,{style:v.tableColSmall,children:Object(O.jsx)(x.e,{style:v.tableCell,children:"Colo"})})]}),t.map((function(e){var t=e.id,a=e.person,n=e.departureSeat,s=e.returnSeat,c=e.lapChild,o=e.status,l=e.departurePlace_id,i=a.name;return n||s||c?Object(O.jsxs)(x.f,{style:v.tableRow,children:[Object(O.jsx)(x.f,{style:v.tableColSmall,children:Object(O.jsx)(x.e,{style:v.tableCell,children:n})}),Object(O.jsx)(x.f,{style:v.tableColSmall,children:Object(O.jsx)(x.e,{style:v.tableCell,children:s})}),Object(O.jsx)(x.f,{style:v.tableColMedium,children:Object(O.jsx)(x.e,{style:v.tableCell,children:Object(f.e)(o).translated})}),Object(O.jsx)(x.f,{style:v.tableColBig,children:Object(O.jsx)(x.e,{style:v.tableCell,children:r.filter((function(e){return e.id===l}))[0].homeAddress})}),Object(O.jsx)(x.f,{style:v.tableColBig,children:Object(O.jsx)(x.e,{style:v.tableCell,children:i})}),Object(O.jsx)(x.f,{style:v.tableColSmall,children:Object(O.jsx)(x.e,{style:v.tableCell,children:c?"Sim":"N\xe3o"})})]},t):null}))]})]})})},C=a(86);t.default=function(e){var t=Object(o.useState)([]),a=Object(c.a)(t,2),r=a[0],f=a[1],v=Object(o.useState)(1),w=Object(c.a)(v,2),S=w[0],k=w[1],N=Object(o.useState)(0),P=Object(c.a)(N,2),M=P[0],D=P[1],E=Object(o.useState)(""),R=Object(c.a)(E,2),W=R[0],I=R[1],F=Object(o.useState)({}),_=Object(c.a)(F,2),T=_[0],A=_[1],L=Object(o.useState)([{}]),B=Object(c.a)(L,2),V=B[0],z=B[1],J=Object(o.useState)({}),q=Object(c.a)(J,2),Y=(q[0],q[1]),U=e.match.params.travel_id,H=Object(i.f)();Object(o.useEffect)((function(){var e=JSON.parse(sessionStorage.travel),t=JSON.parse(sessionStorage.departurePlaces);A(e),z(t)}),[]),Object(o.useEffect)((function(){(function(){var e=Object(s.a)(n.a.mark((function e(){var t,a,r,s,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/reservations",{headers:{travel_id:U,active:!0,currentPage:S,"x-access-token":localStorage.getItem("token"),list:"passengers"}});case 3:200===(t=e.sent).status?(D(t.data.pagination.lastPage),f(t.data.data)):D(1),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),(a=Object(C.a)(e.t0)).forbidden?H.push("/"):a.general&&I(a.error);case 11:return e.prev=11,e.next=14,g.a.get("/admin-data/",{headers:{"x-access-token":localStorage.getItem("token")}});case 14:r=e.sent,s=r.data,Y(s),e.next=23;break;case 19:e.prev=19,e.t1=e.catch(11),(c=Object(C.a)(e.t1)).general&&I(c.error);case 23:case"end":return e.stop()}}),e,null,[[0,7],[11,19]])})));return function(){return e.apply(this,arguments)}})()()}),[S,U,H]);var G=function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(S-1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(S+1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(s.a)(n.a.mark((function e(){return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(M);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(O.jsxs)(l.a.Fragment,{children:[Object(O.jsx)(d.a,{}),Object(O.jsx)("div",{className:"container-fluid mb-4",children:Object(O.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(O.jsx)(u.a,{}),Object(O.jsx)("h5",{children:"Lista de Passageiros"}),Object(O.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:W?{display:"block"}:{display:"none"},children:W}),Object(O.jsx)("div",{className:"table-responsive-sm",children:Object(O.jsxs)("table",{className:"table table-responsive-lgcd ap table-sm table-striped table-hover",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{scope:"col",children:"P. Ida"}),Object(O.jsx)("th",{scope:"col",children:"P. Volta"}),Object(O.jsx)("th",{scope:"col",children:"Nome"}),Object(O.jsx)("th",{scope:"col",children:"Colo"}),Object(O.jsx)("th",{scope:"col",children:"Respons\xe1vel"}),Object(O.jsx)("th",{scope:"col",children:"Telefone"})]},"0")}),Object(O.jsx)("tbody",{children:r.map((function(e){var t=e.id,a=e.person,r=e.departureSeat,n=e.returnSeat,s=e.lapChild,c=(e.user_id,a.name),o=a.phone,l=a.responsible,i=o?o.length:0,d=Object(O.jsx)("a",{className:"ms-2",href:"https://api.whatsapp.com/send?phone=55".concat(o),target:"_blank",rel:"noreferrer",children:Object(O.jsx)(b.a,{style:{color:"green"}})});return r||n||s?Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:r}),Object(O.jsx)("td",{children:n}),Object(O.jsx)("td",{children:c}),Object(O.jsx)("td",{children:s?"Sim":"N\xe3o"}),Object(O.jsx)("td",{children:l||""}),Object(O.jsxs)("td",{children:[o?"(".concat(e.person.phone.substr(0,2),") ").concat(o.substr(2,10===i?4:5),"-").concat(o.substr(10===i?6:7,4)):"",o?d:""]})]},t):""}))})]})}),Object(O.jsx)("nav",{"aria-label":"Page navigation example",children:Object(O.jsxs)("ul",{className:"pagination",children:[Object(O.jsx)("li",{className:"page-item",children:Object(O.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===S,onClick:G,children:Object(O.jsx)(j.a,{})})}),Object(O.jsx)("li",{className:"page-item",children:Object(O.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:1===S,onClick:K,children:Object(O.jsx)(m.a,{})})}),Object(O.jsx)("li",{className:"page-item",children:Object(O.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:S===M,onClick:Q,children:Object(O.jsx)(p.a,{})})}),Object(O.jsx)("li",{className:"page-item",children:Object(O.jsx)("button",{type:"button",className:"btn btn-outline-primary m-1",disabled:S===M,onClick:X,children:Object(O.jsx)(h.a,{})})})]})}),Object(O.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(O.jsx)(x.b,{className:"btn btn-primary",document:Object(O.jsx)(y,{passengers:r,travel:T,departurePlaces:V}),fileName:"lista_viagem_".concat(U,".pdf"),children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?"Carregando PDF...":"Exportar PDF"}}),Object(O.jsx)("button",{type:"button",className:"btn btn-warning text-white",onClick:function(){H.push("/viagens/".concat(U))},children:"Voltar"})]})]})})]})}},84:function(e,t,a){"use strict";t.a=a.p+"static/media/logo.dfc06e0c.webp"},85:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return o})),a.d(t,"c",(function(){return s}));var r=a(91),n=a.n(r),s="https://api.ldviagens.com/",c=n.a.create({baseURL:s}),o=function(e){return n.a.get("https://viacep.com.br/ws/".concat(e,"/json/"))}},86:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var r=function(e){if(e.hasOwnProperty("response")&&e.response){var t=!1;return t=!(!e.response.hasOwnProperty("status")||!e.response.status)&&401===e.response.status,e.response.hasOwnProperty("data")&&e.response.data?e.response.data.hasOwnProperty("message")&&e.response.data.message?{general:!0,error:e.response.data.message,forbidden:t}:{general:!1,error:e.response.data,forbidden:t}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:t}}return"Error: Network Error"===e.toString()?{general:!0,error:"Erro de rede, o banco de dados est\xe1 fora do ar",forbidden:!1}:{general:!0,error:"Algo errado aconteceu, tente novamente mais tarde",forbidden:!1}}},87:function(e,t,a){"use strict";var r=a(1),n=a.n(r),s=a(84),c=a(98),o=(a(96),a(8)),l=a(2);function i(){return Object(l.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed mt-4",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})})}t.a=function(e){var t=e.hamburger,a=Object(l.jsx)(c.a,{phoneNumber:localStorage.getItem("companyPhone"),textReplyTime:"Responderemos assim que poss\xedvel",message:"Ol\xe1! O que podemos fazer por voc\xea?",companyName:localStorage.getItem("companyName"),sendButton:"Enviar",placeholder:"Digite sua mensagem"});return Object(l.jsxs)(n.a.Fragment,{children:[Object(l.jsx)("header",{className:"navbar navbar-light sticky-top bg-white p-0 shadow",children:Object(l.jsxs)("div",{className:"container text-center",children:[Object(l.jsx)("img",{className:"my-3 img-menu",src:s.a,alt:"Logo"}),"none"!==t?Object(l.jsx)(i,{}):""]})}),"admin"!==Object(o.b)()?a:""]})}},88:function(e,t,a){"use strict";a(1);var r=a(55),n=a(8),s=a(2);t.a=function(){var e=[],t=Object(n.b)();return t||(e=[{key:3,name:"In\xedcio",to:"/"},{key:1,name:"Login",to:"/login"},{key:2,name:"Cadastrar",to:"/registro"}]),"admin"===t&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/admin-inicial"},{key:2,name:"Dados Admin",to:"/usuarios/".concat(Object(n.a)())},{key:3,name:"Reservas",to:"/reservas"},{key:4,name:"Visualiza\xe7\xe3o de Usu\xe1rios",to:"/usuarios"},{key:5,name:"Cadastro de Viagens",to:"/viagens"},{key:6,name:"Cadastro de \xd4nibus",to:"/onibus"},{key:7,name:"Sair",to:"/sair"}]),"regular"===t&&(e=[{key:1,name:"P\xe1gina Inicial",to:"/"},{key:2,name:"Meus Dados",to:"/usuarios/".concat(Object(n.a)())},{key:3,name:"Minhas Reservas",to:"/minhas-reservas"},{key:4,name:"Sair",to:"/sair"}]),Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(s.jsx)("div",{className:"position-sticky pt-3",children:Object(s.jsx)("ul",{className:"nav flex-column",children:e.map((function(e){return Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(r.b,{className:"nav-link","aria-current":"page",to:e.to,children:e.name})},e.key)}))})})})})}},94:function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return o})),a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return i})),a.d(t,"f",(function(){return d}));var r=a(92),n=function(e){var t=new Date(e);return{day:t.getDate().toString().padStart(2,"0"),month:(t.getMonth()+1).toString().padStart(2,"0"),year:t.getFullYear(),hour:t.getHours().toString().padStart(2,"0"),minute:t.getMinutes().toString().padStart(2,"0")}},s=function(e){var t=n(e),a=t.day,r=t.month,s=t.year,c=t.hour,o=t.minute;return"".concat(a,"/").concat(r,"/").concat(s," ").concat(c,":").concat(o)},c=function(e){var t=n(e),a=t.day,r=t.month,s=t.year,c=t.hour,o=t.minute;return"".concat(s,"-").concat(r,"-").concat(a,"T").concat(c,":").concat(o)},o=function(e){var t=new Date,a=new Date(e.split("/").reverse().join("-")+" 00:00:00"),r=t.getFullYear()-a.getFullYear(),n=t.getMonth()-a.getMonth();return(n<0||0===n&&t.getDate()<a.getDate())&&(r-=1),r},l=function(e,t,a,n){var s,c=0,o=!1,l=Object(r.a)(e);try{for(l.s();!(s=l.n()).done;){var i=s.value;if(t>=i.initialAge&&t<=i.finalAge&&(i.lapChild&&(o=!0),i.lapChild===n)){c="normal"===a?i.value:"departure"===a?i.onlyDepartureValue:i.onlyReturnValue;break}}}catch(d){l.e(d)}finally{l.f()}return{value:c,optionLapChild:o}},i=function(e){var t={};return"pending"===e&&(t={status:e,translated:"Pendente (MP)",color:"text-warning"}),"approved"===e&&(t={status:e,translated:"Aprovado (MP)",color:"text-success"}),"authorized"===e&&(t={status:e,translated:"Pendente (MP)",color:"text-warning"}),"in_process"===e&&(t={status:e,translated:"Em Processamento (MP)",color:"text-warning"}),"in_mediation"===e&&(t={status:e,translated:"Em Disputa (MP)",color:"text-warning"}),"rejected"===e&&(t={status:e,translated:"Rejeitado (MP)",color:"text-danger"}),"cancelled"===e&&(t={status:e,translated:"Cancelado (MP)",color:"text-danger"}),"refunded"===e&&(t={status:e,translated:"Devolvido (MP)",color:"text-danger"}),"charged_back"===e&&(t={status:e,translated:"Estornado (MP)",color:"text-danger"}),"created"===e&&(t={status:e,translated:"Criado (MP)",color:"text-warning"}),"1"===e&&(t={status:e,translated:"Confirmar (Pix)",color:"text-warning"}),"2"===e&&(t={status:e,translated:"Confirmado (Pix)",color:"text-success"}),"3"===e&&(t={status:e,translated:"Confirmar (Infinite)",color:"text-warning"}),"4"===e&&(t={status:e,translated:"Confirmado (Infinite)",color:"text-success"}),"5"===e&&(t={status:e,translated:"Confirmar (Formulario)",color:"text-warning"}),"6"===e&&(t={status:e,translated:"Confirmado (Formulario)",color:"text-success"}),"7"===e&&(t={status:e,translated:"No Embarque",color:"text-success"}),"dependent"===e&&(t={status:e,translated:"Dependente",color:"text-success"}),t},d=function(e){return"email"===e?"Email":"phone"===e?"Telefone":"cpf"===e?"CPF":""}}}]);
//# sourceMappingURL=11.36a0f442.chunk.js.map