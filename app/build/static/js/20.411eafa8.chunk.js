(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[20],{529:function(t,e,a){"use strict";a.r(e);var s=a(0),n=a(6),c=a(55),r=a.n(c),l=a(63),i=a(38),o=a(1),u=a.n(o),b=a(5),d=a(39),j=a(40),p=a(56),h=a(64);e.default=function(t){var e=Object(o.useState)(!1),a=Object(i.a)(e,2),c=a[0],O=a[1],m=Object(o.useState)(!1),x=Object(i.a)(m,2),v=x[0],f=x[1],y=Object(o.useState)({}),k=Object(i.a)(y,2),g=k[0],N=k[1],S=Object(o.useState)(""),w=Object(i.a)(S,2),C=w[0],B=w[1],E=Object(o.useState)(""),F=Object(i.a)(E,2),I=F[0],J=F[1],A=Object(o.useState)(""),P=Object(i.a)(A,2),R=P[0],V=P[1],q=Object(b.f)(),z=t.match.params.id,D=t.location.state.name,G={headers:{"x-access-token":localStorage.getItem("token")}};Object(o.useEffect)((function(){(function(){var t=Object(l.a)(r.a.mark((function t(){var e,a,s,n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("/reservations/".concat(z),{headers:{"x-access-token":localStorage.getItem("token")}});case 3:e=t.sent,a=e.data,s="1"===a.status?"1":"2"===a.status?"2":"3"===a.status?"1":"4"===a.status?"2":"5"===a.status?"1":"6"===a.status?"2":a.status,a.status=s,J(a),V(e.data.status),console.log(e.data),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),(n=Object(h.a)(t.t0)).forbidden?q.push("/"):n.general&&B(n.error);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}})()()}),[z,q]);var H=function(){var e=Object(l.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.prev=1,e.next=4,p.a.put("/reservations/".concat(z),{active:!1},G);case 4:t.history.goBack(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(1),(a=Object(h.a)(e.t0)).general?B(a.error):N(a.error);case 11:f(!1);case 12:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(r.a.mark((function e(){var a,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),N({}),a="1"===I.status&&"1"===R||"1"===I.status&&"2"===R?"1":"1"===I.status&&"3"===R||"1"===I.status&&"4"===R?"3":"1"===I.status&&"5"===R||"1"===I.status&&"6"===R?"5":"2"===I.status&&"1"===R||"2"===I.status&&"2"===R?"2":"2"===I.status&&"3"===R||"2"===I.status&&"4"===R?"4":"2"===I.status&&"5"===R||"2"===I.status&&"6"===R?"6":"",e.prev=3,e.next=6,p.a.put("/reservations/".concat(z),{status:a},G);case 6:t.history.goBack(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(3),O(!1),(s=Object(h.a)(e.t0)).general?B(s.error):N(s.error);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}();return Object(s.jsxs)(u.a.Fragment,{children:[Object(s.jsx)(d.a,{}),Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"mt-4 col-md-9 ms-sm-auto col-lg-10 px-md-2",children:[Object(s.jsx)(j.a,{}),Object(s.jsx)("h5",{children:"Altera\xe7\xe3o do Status de Pagamento"}),Object(s.jsx)("div",{className:"alert text-center alert-danger",role:"alert",style:C?{display:"block"}:{display:"none"},children:C}),Object(s.jsx)("h6",{children:D}),Object(s.jsx)("form",{className:"row g-3 mt-1 mb-4",style:["1","2","3","4","5","6"].includes(R)?{display:"block"}:{display:"none"},children:Object(s.jsxs)("div",{className:"col-lg-3",children:[Object(s.jsx)("label",{htmlFor:"status",className:"form-label",children:"Status"}),Object(s.jsxs)("select",{className:"form-select ".concat(g.status?"is-invalid":""),id:"status",value:I.status||"",onChange:function(t){J(Object(n.a)(Object(n.a)({},I),{},{status:t.target.value}))},children:[Object(s.jsx)("option",{value:"1",children:"Esperando"}),Object(s.jsx)("option",{value:"2",children:"Recebido"})]}),Object(s.jsx)("div",{id:"validationStatus",className:"invalid-feedback",style:g.status?{display:"inline"}:{display:"none"},children:g.status})]})}),Object(s.jsxs)("div",{className:"text-center d-grid gap-2",children:[Object(s.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:K,disabled:c,style:["1","2","3","4","5","6"].includes(R)?{display:"block"}:{display:"none"},children:[Object(s.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:c?{display:"inline-block"}:{display:"none"}}),"Salvar"]}),Object(s.jsxs)("button",{type:"button",className:"btn btn-primary",onClick:H,disabled:c,children:[Object(s.jsx)("span",{className:"spinner-border spinner-border-sm mx-1",role:"status","aria-hidden":"true",style:v?{display:"inline-block"}:{display:"none"}}),"Excluir"]}),Object(s.jsx)("button",{type:"button",className:"btn btn-warning text-white mb-4",onClick:function(){t.history.goBack()},children:"Voltar"})]})]})})]})}}}]);
//# sourceMappingURL=20.411eafa8.chunk.js.map